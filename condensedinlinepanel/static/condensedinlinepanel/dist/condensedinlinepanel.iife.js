var J=Object.defineProperty;var K=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var V=(i,a,o)=>a in i?J(i,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[a]=o,Y=(i,a)=>{for(var o in a||(a={}))Q.call(a,o)&&V(i,o,a[o]);if(K)for(var o of K(a))Z.call(a,o)&&V(i,o,a[o]);return i};var X=(i,a,o)=>(V(i,typeof a!="symbol"?a+"":a,o),o);var CondensedInlinePanel=function(exports,ReactDOM,React){"use strict";function _interopDefaultLegacy(i){return i&&typeof i=="object"&&"default"in i?i:{default:i}}function _interopNamespace(i){if(i&&i.__esModule)return i;var a={__proto__:null,[Symbol.toStringTag]:"Module"};return i&&Object.keys(i).forEach(function(o){if(o!=="default"){var s=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(a,o,s.get?s:{enumerable:!0,get:function(){return i[o]}})}}),a.default=i,Object.freeze(a)}var ReactDOM__namespace=_interopNamespace(ReactDOM),React__default=_interopDefaultLegacy(React),React__namespace=_interopNamespace(React);function formatProdErrorMessage(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1(i){if(typeof i!="object"||i===null)return!1;for(var a=i;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(i)===a}function createStore(i,a,o){var s;if(typeof a=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof a=="function"&&typeof o=="undefined"&&(o=a,a=void 0),typeof o!="undefined"){if(typeof o!="function")throw new Error(formatProdErrorMessage(1));return o(createStore)(i,a)}if(typeof i!="function")throw new Error(formatProdErrorMessage(2));var u=i,_=a,D=[],S=D,O=!1;function T(){S===D&&(S=D.slice())}function I(){if(O)throw new Error(formatProdErrorMessage(3));return _}function E($){if(typeof $!="function")throw new Error(formatProdErrorMessage(4));if(O)throw new Error(formatProdErrorMessage(5));var j=!0;return T(),S.push($),function(){if(!!j){if(O)throw new Error(formatProdErrorMessage(6));j=!1,T();var M=S.indexOf($);S.splice(M,1),D=null}}}function P($){if(!isPlainObject$1($))throw new Error(formatProdErrorMessage(7));if(typeof $.type=="undefined")throw new Error(formatProdErrorMessage(8));if(O)throw new Error(formatProdErrorMessage(9));try{O=!0,_=u(_,$)}finally{O=!1}for(var j=D=S,L=0;L<j.length;L++){var M=j[L];M()}return $}function R($){if(typeof $!="function")throw new Error(formatProdErrorMessage(10));u=$,P({type:ActionTypes.REPLACE})}function N(){var $,j=E;return $={subscribe:function(M){if(typeof M!="object"||M===null)throw new Error(formatProdErrorMessage(11));function C(){M.next&&M.next(I())}C();var H=j(C);return{unsubscribe:H}}},$[$$observable]=function(){return this},$}return P({type:ActionTypes.INIT}),s={dispatch:P,subscribe:E,getState:I,replaceReducer:R},s[$$observable]=N,s}function emptyState(){return{forms:[],emptyForm:{id:0,isEditing:!1,isNew:!1,isDeleted:!1,hasChanged:!1,position:1,fields:{},extra:{},errors:{}}}}function reducer(i=null,a){if(a.type=="SET_STATE")return a.state;if(i==null)return null;let{forms:o,emptyForm:s}=i;if(a.type=="SET_FORM"){let u=o.slice();return u[a.formId]=a.data,{forms:u,emptyForm:s}}if(a.type=="ADD_FORM"){let u=o.slice();return u.push(a.data),{forms:u,emptyForm:s}}if(a.type=="MOVE_FORM"){let u=o.slice(),_=u[a.formId];_.hasChanged=!0;let D=_.position,S=a.position;S>D&&S--,_.position=S;for(let O=0;O<u.length;O++){if(O==a.formId)continue;let T=u[O];T.position>=D&&T.position--,T.position>=S&&T.position++}return{forms:u,emptyForm:s}}return{forms:o,emptyForm:s}}var DndContext=React.createContext({dragDropManager:void 0}),jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=React__default.default,g$1=60103;if(reactJsxRuntime_production_min.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var h$1=Symbol.for;g$1=h$1("react.element"),reactJsxRuntime_production_min.Fragment=h$1("react.fragment")}var m$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$1=Object.prototype.hasOwnProperty,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(i,a,o){var s,u={},_=null,D=null;o!==void 0&&(_=""+o),a.key!==void 0&&(_=""+a.key),a.ref!==void 0&&(D=a.ref);for(s in a)n$1.call(a,s)&&!p$1.hasOwnProperty(s)&&(u[s]=a[s]);if(i&&i.defaultProps)for(s in a=i.defaultProps,a)u[s]===void 0&&(u[s]=a[s]);return{$$typeof:g$1,type:i,key:_,ref:D,props:u,_owner:m$1.current}}reactJsxRuntime_production_min.jsx=q$1,reactJsxRuntime_production_min.jsxs=q$1,jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var HandlerRole;(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(HandlerRole||(HandlerRole={}));function invariant(i,a){for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];if(!i){var _;if(a===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var D=0;_=new Error(a.replace(/%s/g,function(){return s[D++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}}var INIT_COORDS="dnd-core/INIT_COORDS",BEGIN_DRAG="dnd-core/BEGIN_DRAG",PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",HOVER="dnd-core/HOVER",DROP="dnd-core/DROP",END_DRAG="dnd-core/END_DRAG";function setClientOffset(i,a){return{type:INIT_COORDS,payload:{sourceClientOffset:a||null,clientOffset:i||null}}}function _typeof$4(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(o){return typeof o}:_typeof$4=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$4(i)}function get(i,a,o){return a.split(".").reduce(function(s,u){return s&&s[u]?s[u]:o||null},i)}function without$1(i,a){return i.filter(function(o){return o!==a})}function isObject(i){return _typeof$4(i)==="object"}function xor(i,a){var o=new Map,s=function(D){o.set(D,o.has(D)?o.get(D)+1:1)};i.forEach(s),a.forEach(s);var u=[];return o.forEach(function(_,D){_===1&&u.push(D)}),u}function intersection(i,a){return i.filter(function(o){return a.indexOf(o)>-1})}var ResetCoordinatesAction={type:INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};function createBeginDrag(i){return function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},u=s.publishSource,_=u===void 0?!0:u,D=s.clientOffset,S=s.getSourceClientOffset,O=i.getMonitor(),T=i.getRegistry();i.dispatch(setClientOffset(D)),verifyInvariants$1(o,O,T);var I=getDraggableSource(o,O);if(I===null){i.dispatch(ResetCoordinatesAction);return}var E=null;if(D){if(!S)throw new Error("getSourceClientOffset must be defined");verifyGetSourceClientOffsetIsFunction(S),E=S(I)}i.dispatch(setClientOffset(D,E));var P=T.getSource(I),R=P.beginDrag(O,I);if(R!=null){verifyItemIsObject(R),T.pinSource(I);var N=T.getSourceType(I);return{type:BEGIN_DRAG,payload:{itemType:N,item:R,sourceId:I,clientOffset:D||null,sourceClientOffset:E||null,isSourcePublic:!!_}}}}}function verifyInvariants$1(i,a,o){invariant(!a.isDragging(),"Cannot call beginDrag while dragging."),i.forEach(function(s){invariant(o.getSource(s),"Expected sourceIds to be registered.")})}function verifyGetSourceClientOffsetIsFunction(i){invariant(typeof i=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function verifyItemIsObject(i){invariant(isObject(i),"Item must be an object.")}function getDraggableSource(i,a){for(var o=null,s=i.length-1;s>=0;s--)if(a.canDragSource(i[s])){o=i[s];break}return o}function createPublishDragSource(i){return function(){var o=i.getMonitor();if(o.isDragging())return{type:PUBLISH_DRAG_SOURCE}}}function matchesType(i,a){return a===null?i===null:Array.isArray(i)?i.some(function(o){return o===a}):i===a}function createHover(i){return function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.clientOffset;verifyTargetIdsIsArray(o);var _=o.slice(0),D=i.getMonitor(),S=i.getRegistry();checkInvariants(_,D,S);var O=D.getItemType();return removeNonMatchingTargetIds(_,S,O),hoverAllTargets(_,D,S),{type:HOVER,payload:{targetIds:_,clientOffset:u||null}}}}function verifyTargetIdsIsArray(i){invariant(Array.isArray(i),"Expected targetIds to be an array.")}function checkInvariants(i,a,o){invariant(a.isDragging(),"Cannot call hover while not dragging."),invariant(!a.didDrop(),"Cannot call hover after drop.");for(var s=0;s<i.length;s++){var u=i[s];invariant(i.lastIndexOf(u)===s,"Expected targetIds to be unique in the passed array.");var _=o.getTarget(u);invariant(_,"Expected targetIds to be registered.")}}function removeNonMatchingTargetIds(i,a,o){for(var s=i.length-1;s>=0;s--){var u=i[s],_=a.getTargetType(u);matchesType(_,o)||i.splice(s,1)}}function hoverAllTargets(i,a,o){i.forEach(function(s){var u=o.getTarget(s);u.hover(a,s)})}function ownKeys$4(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,s)}return o}function _objectSpread$4(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$4(Object(o),!0).forEach(function(s){_defineProperty$k(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$4(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function _defineProperty$k(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}function createDrop(i){return function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.getMonitor(),u=i.getRegistry();verifyInvariants(s);var _=getDroppableTargets(s);_.forEach(function(D,S){var O=determineDropResult(D,S,u,s),T={type:DROP,payload:{dropResult:_objectSpread$4(_objectSpread$4({},o),O)}};i.dispatch(T)})}}function verifyInvariants(i){invariant(i.isDragging(),"Cannot call drop while not dragging."),invariant(!i.didDrop(),"Cannot call drop twice during one drag operation.")}function determineDropResult(i,a,o,s){var u=o.getTarget(i),_=u?u.drop(s,i):void 0;return verifyDropResultType(_),typeof _=="undefined"&&(_=a===0?{}:s.getDropResult()),_}function verifyDropResultType(i){invariant(typeof i=="undefined"||isObject(i),"Drop result must either be an object or undefined.")}function getDroppableTargets(i){var a=i.getTargetIds().filter(i.canDropOnTarget,i);return a.reverse(),a}function createEndDrag(i){return function(){var o=i.getMonitor(),s=i.getRegistry();verifyIsDragging(o);var u=o.getSourceId();if(u!=null){var _=s.getSource(u,!0);_.endDrag(o,u),s.unpinSource()}return{type:END_DRAG}}}function verifyIsDragging(i){invariant(i.isDragging(),"Cannot call endDrag while not dragging.")}function createDragDropActions(i){return{beginDrag:createBeginDrag(i),publishDragSource:createPublishDragSource(i),hover:createHover(i),drop:createDrop(i),endDrag:createEndDrag(i)}}function _classCallCheck$f(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$f(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$f(i,a,o){return a&&_defineProperties$f(i.prototype,a),o&&_defineProperties$f(i,o),i}function _defineProperty$j(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var DragDropManagerImpl=function(){function i(a,o){var s=this;_classCallCheck$f(this,i),_defineProperty$j(this,"store",void 0),_defineProperty$j(this,"monitor",void 0),_defineProperty$j(this,"backend",void 0),_defineProperty$j(this,"isSetUp",!1),_defineProperty$j(this,"handleRefCountChange",function(){var u=s.store.getState().refCount>0;s.backend&&(u&&!s.isSetUp?(s.backend.setup(),s.isSetUp=!0):!u&&s.isSetUp&&(s.backend.teardown(),s.isSetUp=!1))}),this.store=a,this.monitor=o,a.subscribe(this.handleRefCountChange)}return _createClass$f(i,[{key:"receiveBackend",value:function(o){this.backend=o}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var o=this,s=this.store.dispatch;function u(D){return function(){for(var S=arguments.length,O=new Array(S),T=0;T<S;T++)O[T]=arguments[T];var I=D.apply(o,O);typeof I!="undefined"&&s(I)}}var _=createDragDropActions(this);return Object.keys(_).reduce(function(D,S){var O=_[S];return D[S]=u(O),D},{})}},{key:"dispatch",value:function(o){this.store.dispatch(o)}}]),i}(),strictEquality=function(a,o){return a===o};function areCoordsEqual(i,a){return!i&&!a?!0:!i||!a?!1:i.x===a.x&&i.y===a.y}function areArraysEqual(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:strictEquality;if(i.length!==a.length)return!1;for(var s=0;s<i.length;++s)if(!o(i[s],a[s]))return!1;return!0}function ownKeys$3(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,s)}return o}function _objectSpread$3(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$3(Object(o),!0).forEach(function(s){_defineProperty$i(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$3(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function _defineProperty$i(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var initialState$1={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function reduce$5(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$1,a=arguments.length>1?arguments[1]:void 0,o=a.payload;switch(a.type){case INIT_COORDS:case BEGIN_DRAG:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case HOVER:return areCoordsEqual(i.clientOffset,o.clientOffset)?i:_objectSpread$3(_objectSpread$3({},i),{},{clientOffset:o.clientOffset});case END_DRAG:case DROP:return initialState$1;default:return i}}var ADD_SOURCE="dnd-core/ADD_SOURCE",ADD_TARGET="dnd-core/ADD_TARGET",REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",REMOVE_TARGET="dnd-core/REMOVE_TARGET";function addSource(i){return{type:ADD_SOURCE,payload:{sourceId:i}}}function addTarget(i){return{type:ADD_TARGET,payload:{targetId:i}}}function removeSource(i){return{type:REMOVE_SOURCE,payload:{sourceId:i}}}function removeTarget(i){return{type:REMOVE_TARGET,payload:{targetId:i}}}function ownKeys$2(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,s)}return o}function _objectSpread$2(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$2(Object(o),!0).forEach(function(s){_defineProperty$h(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$2(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function _defineProperty$h(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var initialState={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function reduce$4(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState,a=arguments.length>1?arguments[1]:void 0,o=a.payload;switch(a.type){case BEGIN_DRAG:return _objectSpread$2(_objectSpread$2({},i),{},{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case PUBLISH_DRAG_SOURCE:return _objectSpread$2(_objectSpread$2({},i),{},{isSourcePublic:!0});case HOVER:return _objectSpread$2(_objectSpread$2({},i),{},{targetIds:o.targetIds});case REMOVE_TARGET:return i.targetIds.indexOf(o.targetId)===-1?i:_objectSpread$2(_objectSpread$2({},i),{},{targetIds:without$1(i.targetIds,o.targetId)});case DROP:return _objectSpread$2(_objectSpread$2({},i),{},{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case END_DRAG:return _objectSpread$2(_objectSpread$2({},i),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function reduce$3(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case ADD_SOURCE:case ADD_TARGET:return i+1;case REMOVE_SOURCE:case REMOVE_TARGET:return i-1;default:return i}}var NONE=[],ALL=[];NONE.__IS_NONE__=!0,ALL.__IS_ALL__=!0;function areDirty(i,a){if(i===NONE)return!1;if(i===ALL||typeof a=="undefined")return!0;var o=intersection(a,i);return o.length>0}function reduce$2(){var i=arguments.length>1?arguments[1]:void 0;switch(i.type){case HOVER:break;case ADD_SOURCE:case ADD_TARGET:case REMOVE_TARGET:case REMOVE_SOURCE:return NONE;case BEGIN_DRAG:case PUBLISH_DRAG_SOURCE:case END_DRAG:case DROP:default:return ALL}var a=i.payload,o=a.targetIds,s=o===void 0?[]:o,u=a.prevTargetIds,_=u===void 0?[]:u,D=xor(s,_),S=D.length>0||!areArraysEqual(s,_);if(!S)return NONE;var O=_[_.length-1],T=s[s.length-1];return O!==T&&(O&&D.push(O),T&&D.push(T)),D}function reduce$1(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return i+1}function ownKeys$1(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,s)}return o}function _objectSpread$1(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys$1(Object(o),!0).forEach(function(s){_defineProperty$g(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys$1(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function _defineProperty$g(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}function reduce(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:reduce$2(i.dirtyHandlerIds,{type:a.type,payload:_objectSpread$1(_objectSpread$1({},a.payload),{},{prevTargetIds:get(i,"dragOperation.targetIds",[])})}),dragOffset:reduce$5(i.dragOffset,a),refCount:reduce$3(i.refCount,a),dragOperation:reduce$4(i.dragOperation,a),stateId:reduce$1(i.stateId)}}function add(i,a){return{x:i.x+a.x,y:i.y+a.y}}function subtract(i,a){return{x:i.x-a.x,y:i.y-a.y}}function getSourceClientOffset(i){var a=i.clientOffset,o=i.initialClientOffset,s=i.initialSourceClientOffset;return!a||!o||!s?null:subtract(add(a,s),o)}function getDifferenceFromInitialOffset(i){var a=i.clientOffset,o=i.initialClientOffset;return!a||!o?null:subtract(a,o)}function _classCallCheck$e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$e(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$e(i,a,o){return a&&_defineProperties$e(i.prototype,a),o&&_defineProperties$e(i,o),i}function _defineProperty$f(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var DragDropMonitorImpl=function(){function i(a,o){_classCallCheck$e(this,i),_defineProperty$f(this,"store",void 0),_defineProperty$f(this,"registry",void 0),this.store=a,this.registry=o}return _createClass$e(i,[{key:"subscribeToStateChange",value:function(o){var s=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},_=u.handlerIds;invariant(typeof o=="function","listener must be a function."),invariant(typeof _=="undefined"||Array.isArray(_),"handlerIds, when specified, must be an array of strings.");var D=this.store.getState().stateId,S=function(){var T=s.store.getState(),I=T.stateId;try{var E=I===D||I===D+1&&!areDirty(T.dirtyHandlerIds,_);E||o()}finally{D=I}};return this.store.subscribe(S)}},{key:"subscribeToOffsetChange",value:function(o){var s=this;invariant(typeof o=="function","listener must be a function.");var u=this.store.getState().dragOffset,_=function(){var S=s.store.getState().dragOffset;S!==u&&(u=S,o())};return this.store.subscribe(_)}},{key:"canDragSource",value:function(o){if(!o)return!1;var s=this.registry.getSource(o);return invariant(s,"Expected to find a valid source. sourceId=".concat(o)),this.isDragging()?!1:s.canDrag(this,o)}},{key:"canDropOnTarget",value:function(o){if(!o)return!1;var s=this.registry.getTarget(o);if(invariant(s,"Expected to find a valid target. targetId=".concat(o)),!this.isDragging()||this.didDrop())return!1;var u=this.registry.getTargetType(o),_=this.getItemType();return matchesType(u,_)&&s.canDrop(this,o)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(o){if(!o)return!1;var s=this.registry.getSource(o,!0);if(invariant(s,"Expected to find a valid source. sourceId=".concat(o)),!this.isDragging()||!this.isSourcePublic())return!1;var u=this.registry.getSourceType(o),_=this.getItemType();return u!==_?!1:s.isDragging(this,o)}},{key:"isOverTarget",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!o)return!1;var u=s.shallow;if(!this.isDragging())return!1;var _=this.registry.getTargetType(o),D=this.getItemType();if(D&&!matchesType(_,D))return!1;var S=this.getTargetIds();if(!S.length)return!1;var O=S.indexOf(o);return u?O===S.length-1:O>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return getSourceClientOffset(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return getDifferenceFromInitialOffset(this.store.getState().dragOffset)}}]),i}(),nextUniqueId=0;function getNextUniqueId(){return nextUniqueId++}function _typeof$3(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(o){return typeof o}:_typeof$3=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$3(i)}function validateSourceContract(i){invariant(typeof i.canDrag=="function","Expected canDrag to be a function."),invariant(typeof i.beginDrag=="function","Expected beginDrag to be a function."),invariant(typeof i.endDrag=="function","Expected endDrag to be a function.")}function validateTargetContract(i){invariant(typeof i.canDrop=="function","Expected canDrop to be a function."),invariant(typeof i.hover=="function","Expected hover to be a function."),invariant(typeof i.drop=="function","Expected beginDrag to be a function.")}function validateType(i,a){if(a&&Array.isArray(i)){i.forEach(function(o){return validateType(o,!1)});return}invariant(typeof i=="string"||_typeof$3(i)==="symbol",a?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function rawAsap(i){queue.length||requestFlush(),queue[queue.length]=i}var queue=[],requestFlush,index=0,capacity=1024;function flush(){for(;index<queue.length;){var i=index;if(index=index+1,queue[i].call(),index>capacity){for(var a=0,o=queue.length-index;a<o;a++)queue[a]=queue[a+index];queue.length-=index,index=0}}queue.length=0,index=0}var scope=typeof global!="undefined"?global:self,BrowserMutationObserver=scope.MutationObserver||scope.WebKitMutationObserver;typeof BrowserMutationObserver=="function"?requestFlush=makeRequestCallFromMutationObserver(flush):requestFlush=makeRequestCallFromTimer(flush),rawAsap.requestFlush=requestFlush;function makeRequestCallFromMutationObserver(i){var a=1,o=new BrowserMutationObserver(i),s=document.createTextNode("");return o.observe(s,{characterData:!0}),function(){a=-a,s.data=a}}function makeRequestCallFromTimer(i){return function(){var o=setTimeout(u,0),s=setInterval(u,50);function u(){clearTimeout(o),clearInterval(s),i()}}}rawAsap.makeRequestCallFromTimer=makeRequestCallFromTimer;var freeTasks=[],pendingErrors=[],requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);function throwFirstError(){if(pendingErrors.length)throw pendingErrors.shift()}function asap(i){var a;freeTasks.length?a=freeTasks.pop():a=new RawTask,a.task=i,rawAsap(a)}var RawTask=function(){function i(){}return i.prototype.call=function(){try{this.task.call()}catch(a){asap.onerror?asap.onerror(a):(pendingErrors.push(a),requestErrorThrow())}finally{this.task=null,freeTasks[freeTasks.length]=this}},i}();function _classCallCheck$d(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$d(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$d(i,a,o){return a&&_defineProperties$d(i.prototype,a),o&&_defineProperties$d(i,o),i}function _defineProperty$e(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}function _slicedToArray$2(i,a){return _arrayWithHoles$2(i)||_iterableToArrayLimit$2(i,a)||_unsupportedIterableToArray$2(i,a)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(i,a){if(!!i){if(typeof i=="string")return _arrayLikeToArray$2(i,a);var o=Object.prototype.toString.call(i).slice(8,-1);if(o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set")return Array.from(i);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$2(i,a)}}function _arrayLikeToArray$2(i,a){(a==null||a>i.length)&&(a=i.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=i[o];return s}function _iterableToArrayLimit$2(i,a){var o=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(o!=null){var s=[],u=!0,_=!1,D,S;try{for(o=o.call(i);!(u=(D=o.next()).done)&&(s.push(D.value),!(a&&s.length===a));u=!0);}catch(O){_=!0,S=O}finally{try{!u&&o.return!=null&&o.return()}finally{if(_)throw S}}return s}}function _arrayWithHoles$2(i){if(Array.isArray(i))return i}function getNextHandlerId(i){var a=getNextUniqueId().toString();switch(i){case HandlerRole.SOURCE:return"S".concat(a);case HandlerRole.TARGET:return"T".concat(a);default:throw new Error("Unknown Handler Role: ".concat(i))}}function parseRoleFromHandlerId(i){switch(i[0]){case"S":return HandlerRole.SOURCE;case"T":return HandlerRole.TARGET;default:invariant(!1,"Cannot parse handler ID: ".concat(i))}}function mapContainsValue(i,a){var o=i.entries(),s=!1;do{var u=o.next(),_=u.done,D=_slicedToArray$2(u.value,2),S=D[1];if(S===a)return!0;s=!!_}while(!s);return!1}var HandlerRegistryImpl=function(){function i(a){_classCallCheck$d(this,i),_defineProperty$e(this,"types",new Map),_defineProperty$e(this,"dragSources",new Map),_defineProperty$e(this,"dropTargets",new Map),_defineProperty$e(this,"pinnedSourceId",null),_defineProperty$e(this,"pinnedSource",null),_defineProperty$e(this,"store",void 0),this.store=a}return _createClass$d(i,[{key:"addSource",value:function(o,s){validateType(o),validateSourceContract(s);var u=this.addHandler(HandlerRole.SOURCE,o,s);return this.store.dispatch(addSource(u)),u}},{key:"addTarget",value:function(o,s){validateType(o,!0),validateTargetContract(s);var u=this.addHandler(HandlerRole.TARGET,o,s);return this.store.dispatch(addTarget(u)),u}},{key:"containsHandler",value:function(o){return mapContainsValue(this.dragSources,o)||mapContainsValue(this.dropTargets,o)}},{key:"getSource",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;invariant(this.isSourceId(o),"Expected a valid source ID.");var u=s&&o===this.pinnedSourceId,_=u?this.pinnedSource:this.dragSources.get(o);return _}},{key:"getTarget",value:function(o){return invariant(this.isTargetId(o),"Expected a valid target ID."),this.dropTargets.get(o)}},{key:"getSourceType",value:function(o){return invariant(this.isSourceId(o),"Expected a valid source ID."),this.types.get(o)}},{key:"getTargetType",value:function(o){return invariant(this.isTargetId(o),"Expected a valid target ID."),this.types.get(o)}},{key:"isSourceId",value:function(o){var s=parseRoleFromHandlerId(o);return s===HandlerRole.SOURCE}},{key:"isTargetId",value:function(o){var s=parseRoleFromHandlerId(o);return s===HandlerRole.TARGET}},{key:"removeSource",value:function(o){var s=this;invariant(this.getSource(o),"Expected an existing source."),this.store.dispatch(removeSource(o)),asap(function(){s.dragSources.delete(o),s.types.delete(o)})}},{key:"removeTarget",value:function(o){invariant(this.getTarget(o),"Expected an existing target."),this.store.dispatch(removeTarget(o)),this.dropTargets.delete(o),this.types.delete(o)}},{key:"pinSource",value:function(o){var s=this.getSource(o);invariant(s,"Expected an existing source."),this.pinnedSourceId=o,this.pinnedSource=s}},{key:"unpinSource",value:function(){invariant(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(o,s,u){var _=getNextHandlerId(o);return this.types.set(_,s),o===HandlerRole.SOURCE?this.dragSources.set(_,u):o===HandlerRole.TARGET&&this.dropTargets.set(_,u),_}}]),i}();function createDragDropManager(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,u=makeStoreInstance(s),_=new DragDropMonitorImpl(u,new HandlerRegistryImpl(u)),D=new DragDropManagerImpl(u,_),S=i(D,a,o);return D.receiveBackend(S),D}function makeStoreInstance(i){var a=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return createStore(reduce,i&&a&&a({name:"dnd-core",instanceId:"dnd-core"}))}var _excluded=["children"];function _slicedToArray$1(i,a){return _arrayWithHoles$1(i)||_iterableToArrayLimit$1(i,a)||_unsupportedIterableToArray$1(i,a)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(i,a){if(!!i){if(typeof i=="string")return _arrayLikeToArray$1(i,a);var o=Object.prototype.toString.call(i).slice(8,-1);if(o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set")return Array.from(i);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray$1(i,a)}}function _arrayLikeToArray$1(i,a){(a==null||a>i.length)&&(a=i.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=i[o];return s}function _iterableToArrayLimit$1(i,a){var o=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(o!=null){var s=[],u=!0,_=!1,D,S;try{for(o=o.call(i);!(u=(D=o.next()).done)&&(s.push(D.value),!(a&&s.length===a));u=!0);}catch(O){_=!0,S=O}finally{try{!u&&o.return!=null&&o.return()}finally{if(_)throw S}}return s}}function _arrayWithHoles$1(i){if(Array.isArray(i))return i}function _objectWithoutProperties(i,a){if(i==null)return{};var o=_objectWithoutPropertiesLoose(i,a),s,u;if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(i);for(u=0;u<_.length;u++)s=_[u],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,s)||(o[s]=i[s]))}return o}function _objectWithoutPropertiesLoose(i,a){if(i==null)return{};var o={},s=Object.keys(i),u,_;for(_=0;_<s.length;_++)u=s[_],!(a.indexOf(u)>=0)&&(o[u]=i[u]);return o}var refCount=0,INSTANCE_SYM=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),DndProvider=React.memo(function(a){var o=a.children,s=_objectWithoutProperties(a,_excluded),u=getDndContextValue(s),_=_slicedToArray$1(u,2),D=_[0],S=_[1];return React.useEffect(function(){if(S){var O=getGlobalContext();return++refCount,function(){--refCount===0&&(O[INSTANCE_SYM]=null)}}},[]),jsx(DndContext.Provider,Object.assign({value:D},{children:o}),void 0)});function getDndContextValue(i){if("manager"in i){var a={dragDropManager:i.manager};return[a,!1]}var o=createSingletonDndContext(i.backend,i.context,i.options,i.debugMode),s=!i.context;return[o,s]}function createSingletonDndContext(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:getGlobalContext(),o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,u=a;return u[INSTANCE_SYM]||(u[INSTANCE_SYM]={dragDropManager:createDragDropManager(i,a,o,s)}),u[INSTANCE_SYM]}function getGlobalContext(){return typeof global!="undefined"?global:window}function _classCallCheck$c(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$c(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$c(i,a,o){return a&&_defineProperties$c(i.prototype,a),o&&_defineProperties$c(i,o),i}function _defineProperty$d(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var isCallingCanDrag=!1,isCallingIsDragging=!1,DragSourceMonitorImpl=function(){function i(a){_classCallCheck$c(this,i),_defineProperty$d(this,"internalMonitor",void 0),_defineProperty$d(this,"sourceId",null),this.internalMonitor=a.getMonitor()}return _createClass$c(i,[{key:"receiveHandlerId",value:function(o){this.sourceId=o}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){invariant(!isCallingCanDrag,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return isCallingCanDrag=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{isCallingCanDrag=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;invariant(!isCallingIsDragging,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return isCallingIsDragging=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{isCallingIsDragging=!1}}},{key:"subscribeToStateChange",value:function(o,s){return this.internalMonitor.subscribeToStateChange(o,s)}},{key:"isDraggingSource",value:function(o){return this.internalMonitor.isDraggingSource(o)}},{key:"isOverTarget",value:function(o,s){return this.internalMonitor.isOverTarget(o,s)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(o){return this.internalMonitor.subscribeToOffsetChange(o)}},{key:"canDragSource",value:function(o){return this.internalMonitor.canDragSource(o)}},{key:"canDropOnTarget",value:function(o){return this.internalMonitor.canDropOnTarget(o)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),i}();function _classCallCheck$b(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$b(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$b(i,a,o){return a&&_defineProperties$b(i.prototype,a),o&&_defineProperties$b(i,o),i}function _defineProperty$c(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var isCallingCanDrop=!1,DropTargetMonitorImpl=function(){function i(a){_classCallCheck$b(this,i),_defineProperty$c(this,"internalMonitor",void 0),_defineProperty$c(this,"targetId",null),this.internalMonitor=a.getMonitor()}return _createClass$b(i,[{key:"receiveHandlerId",value:function(o){this.targetId=o}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(o,s){return this.internalMonitor.subscribeToStateChange(o,s)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;invariant(!isCallingCanDrop,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return isCallingCanDrop=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{isCallingCanDrop=!1}}},{key:"isOver",value:function(o){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,o):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),i}();function throwIfCompositeComponentElement(i){if(typeof i.type!="string"){var a=i.type.displayName||i.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(a," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function wrapHookToRecognizeElement(i){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!React.isValidElement(a)){var s=a;return i(s,o),s}var u=a;throwIfCompositeComponentElement(u);var _=o?function(D){return i(D,o)}:i;return cloneWithRef(u,_)}}function wrapConnectorHooks(i){var a={};return Object.keys(i).forEach(function(o){var s=i[o];if(o.endsWith("Ref"))a[o]=i[o];else{var u=wrapHookToRecognizeElement(s);a[o]=function(){return u}}}),a}function setRef(i,a){typeof i=="function"?i(a):i.current=a}function cloneWithRef(i,a){var o=i.ref;return invariant(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?React.cloneElement(i,{ref:function(u){setRef(o,u),setRef(a,u)}}):React.cloneElement(i,{ref:a})}function _typeof$2(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(o){return typeof o}:_typeof$2=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$2(i)}function isRef(i){return i!==null&&_typeof$2(i)==="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function shallowEqual(i,a,o,s){var u=o?o.call(s,i,a):void 0;if(u!==void 0)return!!u;if(i===a)return!0;if(typeof i!="object"||!i||typeof a!="object"||!a)return!1;var _=Object.keys(i),D=Object.keys(a);if(_.length!==D.length)return!1;for(var S=Object.prototype.hasOwnProperty.bind(a),O=0;O<_.length;O++){var T=_[O];if(!S(T))return!1;var I=i[T],E=a[T];if(u=o?o.call(s,I,E,T):void 0,u===!1||u===void 0&&I!==E)return!1}return!0}function _classCallCheck$a(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$a(i,a,o){return a&&_defineProperties$a(i.prototype,a),o&&_defineProperties$a(i,o),i}function _defineProperty$b(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var SourceConnector=function(){function i(a){var o=this;_classCallCheck$a(this,i),_defineProperty$b(this,"hooks",wrapConnectorHooks({dragSource:function(u,_){o.clearDragSource(),o.dragSourceOptions=_||null,isRef(u)?o.dragSourceRef=u:o.dragSourceNode=u,o.reconnectDragSource()},dragPreview:function(u,_){o.clearDragPreview(),o.dragPreviewOptions=_||null,isRef(u)?o.dragPreviewRef=u:o.dragPreviewNode=u,o.reconnectDragPreview()}})),_defineProperty$b(this,"handlerId",null),_defineProperty$b(this,"dragSourceRef",null),_defineProperty$b(this,"dragSourceNode",void 0),_defineProperty$b(this,"dragSourceOptionsInternal",null),_defineProperty$b(this,"dragSourceUnsubscribe",void 0),_defineProperty$b(this,"dragPreviewRef",null),_defineProperty$b(this,"dragPreviewNode",void 0),_defineProperty$b(this,"dragPreviewOptionsInternal",null),_defineProperty$b(this,"dragPreviewUnsubscribe",void 0),_defineProperty$b(this,"lastConnectedHandlerId",null),_defineProperty$b(this,"lastConnectedDragSource",null),_defineProperty$b(this,"lastConnectedDragSourceOptions",null),_defineProperty$b(this,"lastConnectedDragPreview",null),_defineProperty$b(this,"lastConnectedDragPreviewOptions",null),_defineProperty$b(this,"backend",void 0),this.backend=a}return _createClass$a(i,[{key:"receiveHandlerId",value:function(o){this.handlerId!==o&&(this.handlerId=o,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(o){this.dragSourceOptionsInternal=o}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(o){this.dragPreviewOptionsInternal=o}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var o=this.dragSource,s=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(s&&this.disconnectDragSource(),!!this.handlerId){if(!o){this.lastConnectedDragSource=o;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=o,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,o,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var o=this.dragPreview,s=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(s&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!shallowEqual(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!shallowEqual(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),i}();function _classCallCheck$9(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$9(i,a,o){return a&&_defineProperties$9(i.prototype,a),o&&_defineProperties$9(i,o),i}function _defineProperty$a(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var TargetConnector=function(){function i(a){var o=this;_classCallCheck$9(this,i),_defineProperty$a(this,"hooks",wrapConnectorHooks({dropTarget:function(u,_){o.clearDropTarget(),o.dropTargetOptions=_,isRef(u)?o.dropTargetRef=u:o.dropTargetNode=u,o.reconnect()}})),_defineProperty$a(this,"handlerId",null),_defineProperty$a(this,"dropTargetRef",null),_defineProperty$a(this,"dropTargetNode",void 0),_defineProperty$a(this,"dropTargetOptionsInternal",null),_defineProperty$a(this,"unsubscribeDropTarget",void 0),_defineProperty$a(this,"lastConnectedHandlerId",null),_defineProperty$a(this,"lastConnectedDropTarget",null),_defineProperty$a(this,"lastConnectedDropTargetOptions",null),_defineProperty$a(this,"backend",void 0),this.backend=a}return _createClass$9(i,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var o=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();o&&this.disconnectDropTarget();var s=this.dropTarget;if(!!this.handlerId){if(!s){this.lastConnectedDropTarget=s;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=s,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,s,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(o){o!==this.handlerId&&(this.handlerId=o,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(o){this.dropTargetOptionsInternal=o}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!shallowEqual(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),i}();function registerTarget(i,a,o){var s=o.getRegistry(),u=s.addTarget(i,a);return[u,function(){return s.removeTarget(u)}]}function registerSource(i,a,o){var s=o.getRegistry(),u=s.addSource(i,a);return[u,function(){return s.removeSource(u)}]}function _typeof$1(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(o){return typeof o}:_typeof$1=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(i)}function getDecoratedComponent(i){var a=i.current;return a==null?null:a.decoratedRef?a.decoratedRef.current:a}function isClassComponent(i){return i&&i.prototype&&typeof i.prototype.render=="function"}function isRefForwardingComponent(i){var a,o=i;return(o==null||(a=o.$$typeof)===null||a===void 0?void 0:a.toString())==="Symbol(react.forward_ref)"}function isRefable(i){return isClassComponent(i)||isRefForwardingComponent(i)}function isFunction(i){return typeof i=="function"}function noop(){}function isObjectLike(i){return _typeof$1(i)==="object"&&i!==null}function isPlainObject(i){if(!isObjectLike(i))return!1;if(Object.getPrototypeOf(i)===null)return!0;for(var a=i;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(i)===a}function isValidType(i,a){return typeof i=="string"||_typeof$1(i)==="symbol"||!!a&&Array.isArray(i)&&i.every(function(o){return isValidType(o,!1)})}function _classCallCheck$8(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$8(i,a,o){return a&&_defineProperties$8(i.prototype,a),o&&_defineProperties$8(i,o),i}function _defineProperty$9(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var Disposable=function(){function i(a){_classCallCheck$8(this,i),_defineProperty$9(this,"isDisposed",!1),_defineProperty$9(this,"action",void 0),this.action=isFunction(a)?a:noop}return _createClass$8(i,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(o){return Boolean(o&&isFunction(o.dispose))}},{key:"_fixup",value:function(o){return i.isDisposable(o)?o:i.empty}},{key:"create",value:function(o){return new i(o)}}]),i}();_defineProperty$9(Disposable,"empty",{dispose:noop});var CompositeDisposable=function(){function i(){_classCallCheck$8(this,i),_defineProperty$9(this,"isDisposed",!1),_defineProperty$9(this,"disposables",void 0);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];this.disposables=o}return _createClass$8(i,[{key:"add",value:function(o){this.isDisposed?o.dispose():this.disposables.push(o)}},{key:"remove",value:function(o){var s=!1;if(!this.isDisposed){var u=this.disposables.indexOf(o);u!==-1&&(s=!0,this.disposables.splice(u,1),o.dispose())}return s}},{key:"clear",value:function(){if(!this.isDisposed){for(var o=this.disposables.length,s=new Array(o),u=0;u<o;u++)s[u]=this.disposables[u];this.disposables=[];for(var _=0;_<o;_++)s[_].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var o=this.disposables.length,s=new Array(o),u=0;u<o;u++)s[u]=this.disposables[u];this.disposables=[];for(var _=0;_<o;_++)s[_].dispose()}}}]),i}(),SerialDisposable=function(){function i(){_classCallCheck$8(this,i),_defineProperty$9(this,"isDisposed",!1),_defineProperty$9(this,"current",void 0)}return _createClass$8(i,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(o){var s=this.isDisposed;if(!s){var u=this.current;this.current=o,u&&u.dispose()}s&&o&&o.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var o=this.current;this.current=void 0,o&&o.dispose()}}}]),i}(),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=typeof Symbol=="function"&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(i){if(typeof i=="object"&&i!==null){var a=i.$$typeof;switch(a){case c:switch(i=i.type,i){case l:case m:case e:case g:case f:case p:return i;default:switch(i=i&&i.$$typeof,i){case k:case n:case t:case r:case h:return i;default:return a}}case d:return a}}}function A(i){return z(i)===m}reactIs_production_min.AsyncMode=l,reactIs_production_min.ConcurrentMode=m,reactIs_production_min.ContextConsumer=k,reactIs_production_min.ContextProvider=h,reactIs_production_min.Element=c,reactIs_production_min.ForwardRef=n,reactIs_production_min.Fragment=e,reactIs_production_min.Lazy=t,reactIs_production_min.Memo=r,reactIs_production_min.Portal=d,reactIs_production_min.Profiler=g,reactIs_production_min.StrictMode=f,reactIs_production_min.Suspense=p,reactIs_production_min.isAsyncMode=function(i){return A(i)||z(i)===l},reactIs_production_min.isConcurrentMode=A,reactIs_production_min.isContextConsumer=function(i){return z(i)===k},reactIs_production_min.isContextProvider=function(i){return z(i)===h},reactIs_production_min.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===c},reactIs_production_min.isForwardRef=function(i){return z(i)===n},reactIs_production_min.isFragment=function(i){return z(i)===e},reactIs_production_min.isLazy=function(i){return z(i)===t},reactIs_production_min.isMemo=function(i){return z(i)===r},reactIs_production_min.isPortal=function(i){return z(i)===d},reactIs_production_min.isProfiler=function(i){return z(i)===g},reactIs_production_min.isStrictMode=function(i){return z(i)===f},reactIs_production_min.isSuspense=function(i){return z(i)===p},reactIs_production_min.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===e||i===m||i===g||i===f||i===p||i===q||typeof i=="object"&&i!==null&&(i.$$typeof===t||i.$$typeof===r||i.$$typeof===h||i.$$typeof===k||i.$$typeof===n||i.$$typeof===w||i.$$typeof===x||i.$$typeof===y||i.$$typeof===v)},reactIs_production_min.typeOf=z,reactIs$1.exports=reactIs_production_min;var reactIs=reactIs$1.exports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS,TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(i){return reactIs.isMemo(i)?MEMO_STATICS:TYPE_STATICS[i.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(i,a,o){if(typeof a!="string"){if(objectPrototype){var s=getPrototypeOf(a);s&&s!==objectPrototype&&hoistNonReactStatics(i,s,o)}var u=getOwnPropertyNames(a);getOwnPropertySymbols&&(u=u.concat(getOwnPropertySymbols(a)));for(var _=getStatics(i),D=getStatics(a),S=0;S<u.length;++S){var O=u[S];if(!KNOWN_STATICS[O]&&!(o&&o[O])&&!(D&&D[O])&&!(_&&_[O])){var T=getOwnPropertyDescriptor(a,O);try{defineProperty(i,O,T)}catch{}}}}return i}var hoistNonReactStatics_cjs=hoistNonReactStatics,hoistStatics=hoistNonReactStatics_cjs;function _typeof(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(o){return typeof o}:_typeof=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(i)}function _slicedToArray(i,a){return _arrayWithHoles(i)||_iterableToArrayLimit(i,a)||_unsupportedIterableToArray(i,a)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(i,a){if(!!i){if(typeof i=="string")return _arrayLikeToArray(i,a);var o=Object.prototype.toString.call(i).slice(8,-1);if(o==="Object"&&i.constructor&&(o=i.constructor.name),o==="Map"||o==="Set")return Array.from(i);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(i,a)}}function _arrayLikeToArray(i,a){(a==null||a>i.length)&&(a=i.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=i[o];return s}function _iterableToArrayLimit(i,a){var o=i==null?null:typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(o!=null){var s=[],u=!0,_=!1,D,S;try{for(o=o.call(i);!(u=(D=o.next()).done)&&(s.push(D.value),!(a&&s.length===a));u=!0);}catch(O){_=!0,S=O}finally{try{!u&&o.return!=null&&o.return()}finally{if(_)throw S}}return s}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _classCallCheck$7(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$7(i,a,o){return a&&_defineProperties$7(i.prototype,a),o&&_defineProperties$7(i,o),i}function _inherits(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&_setPrototypeOf(i,a)}function _setPrototypeOf(i,a){return _setPrototypeOf=Object.setPrototypeOf||function(s,u){return s.__proto__=u,s},_setPrototypeOf(i,a)}function _createSuper(i){var a=_isNativeReflectConstruct();return function(){var s=_getPrototypeOf(i),u;if(a){var _=_getPrototypeOf(this).constructor;u=Reflect.construct(s,arguments,_)}else u=s.apply(this,arguments);return _possibleConstructorReturn(this,u)}}function _possibleConstructorReturn(i,a){if(a&&(_typeof(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(i)}function _defineProperty$8(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}function decorateHandler(i){var a=i.DecoratedComponent,o=i.createHandler,s=i.createMonitor,u=i.createConnector,_=i.registerHandler,D=i.containerDisplayName,S=i.getType,O=i.collect,T=i.options,I=T.arePropsEqual,E=I===void 0?shallowEqual:I,P=a,R=a.displayName||a.name||"Component",N=function($){_inherits(L,$);var j=_createSuper(L);function L(M){var C;return _classCallCheck$7(this,L),C=j.call(this,M),_defineProperty$8(_assertThisInitialized(C),"decoratedRef",React.createRef()),_defineProperty$8(_assertThisInitialized(C),"handlerId",void 0),_defineProperty$8(_assertThisInitialized(C),"manager",void 0),_defineProperty$8(_assertThisInitialized(C),"handlerMonitor",void 0),_defineProperty$8(_assertThisInitialized(C),"handlerConnector",void 0),_defineProperty$8(_assertThisInitialized(C),"handler",void 0),_defineProperty$8(_assertThisInitialized(C),"disposable",void 0),_defineProperty$8(_assertThisInitialized(C),"currentType",void 0),_defineProperty$8(_assertThisInitialized(C),"handleChange",function(){var H=C.getCurrentState();shallowEqual(H,C.state)||C.setState(H)}),C.disposable=new SerialDisposable,C.receiveProps(M),C.dispose(),C}return _createClass$7(L,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return invariant(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(C,H){return!E(C,this.props)||!shallowEqual(H,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(C){E(this.props,C)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(C){!this.handler||(this.handler.receiveProps(C),this.receiveType(S(C)))}},{key:"receiveType",value:function(C){if(!(!this.handlerMonitor||!this.manager||!this.handlerConnector)&&C!==this.currentType){this.currentType=C;var H=_(C,this.handler,this.manager),G=_slicedToArray(H,2),F=G[0],U=G[1];this.handlerId=F,this.handlerMonitor.receiveHandlerId(F),this.handlerConnector.receiveHandlerId(F);var B=this.manager.getMonitor(),W=B.subscribeToStateChange(this.handleChange,{handlerIds:[F]});this.disposable.setDisposable(new CompositeDisposable(new Disposable(W),new Disposable(U)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){if(!this.handlerConnector)return{};var C=O(this.handlerConnector.hooks,this.handlerMonitor,this.props);return C}},{key:"render",value:function(){var C=this;return jsx(DndContext.Consumer,{children:function(G){var F=G.dragDropManager;return C.receiveDragDropManager(F),typeof requestAnimationFrame!="undefined"&&requestAnimationFrame(function(){var U;return(U=C.handlerConnector)===null||U===void 0?void 0:U.reconnect()}),jsx(P,Object.assign({},C.props,C.getCurrentState(),{ref:isRefable(P)?C.decoratedRef:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(C){this.manager===void 0&&(invariant(C!==void 0,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",R,R),C!==void 0&&(this.manager=C,this.handlerMonitor=s(C),this.handlerConnector=u(C.getBackend()),this.handler=o(this.handlerMonitor,this.decoratedRef)))}}]),L}(React.Component);return _defineProperty$8(N,"DecoratedComponent",a),_defineProperty$8(N,"displayName","".concat(D,"(").concat(R,")")),hoistStatics(N,a)}function _classCallCheck$6(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$6(i,a,o){return a&&_defineProperties$6(i.prototype,a),o&&_defineProperties$6(i,o),i}function _defineProperty$7(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var ALLOWED_SPEC_METHODS$1=["canDrag","beginDrag","isDragging","endDrag"],REQUIRED_SPEC_METHODS=["beginDrag"],SourceImpl=function(){function i(a,o,s){var u=this;_classCallCheck$6(this,i),_defineProperty$7(this,"props",null),_defineProperty$7(this,"spec",void 0),_defineProperty$7(this,"monitor",void 0),_defineProperty$7(this,"ref",void 0),_defineProperty$7(this,"beginDrag",function(){if(!!u.props){var _=u.spec.beginDrag(u.props,u.monitor,u.ref.current);return _}}),this.spec=a,this.monitor=o,this.ref=s}return _createClass$6(i,[{key:"receiveProps",value:function(o){this.props=o}},{key:"canDrag",value:function(){return this.props?this.spec.canDrag?this.spec.canDrag(this.props,this.monitor):!0:!1}},{key:"isDragging",value:function(o,s){return this.props?this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):s===o.getSourceId():!1}},{key:"endDrag",value:function(){!this.props||!this.spec.endDrag||this.spec.endDrag(this.props,this.monitor,getDecoratedComponent(this.ref))}}]),i}();function createSourceFactory(i){return Object.keys(i).forEach(function(a){invariant(ALLOWED_SPEC_METHODS$1.indexOf(a)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',ALLOWED_SPEC_METHODS$1.join(", "),a),invariant(typeof i[a]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",a,a,i[a])}),REQUIRED_SPEC_METHODS.forEach(function(a){invariant(typeof i[a]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",a,a,i[a])}),function(o,s){return new SourceImpl(i,o,s)}}function DragSource(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=i;typeof i!="function"&&(invariant(isValidType(i),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i),u=function(){return i}),invariant(isPlainObject(a),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',a);var _=createSourceFactory(a);return invariant(typeof o=="function",'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o),invariant(isPlainObject(s),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',o),function(S){return decorateHandler({containerDisplayName:"DragSource",createHandler:_,registerHandler:registerSource,createConnector:function(T){return new SourceConnector(T)},createMonitor:function(T){return new DragSourceMonitorImpl(T)},DecoratedComponent:S,getType:u,collect:o,options:s})}}function _classCallCheck$5(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$5(i,a,o){return a&&_defineProperties$5(i.prototype,a),o&&_defineProperties$5(i,o),i}function _defineProperty$6(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var ALLOWED_SPEC_METHODS=["canDrop","hover","drop"],TargetImpl=function(){function i(a,o,s){_classCallCheck$5(this,i),_defineProperty$6(this,"props",null),_defineProperty$6(this,"spec",void 0),_defineProperty$6(this,"monitor",void 0),_defineProperty$6(this,"ref",void 0),this.spec=a,this.monitor=o,this.ref=s}return _createClass$5(i,[{key:"receiveProps",value:function(o){this.props=o}},{key:"receiveMonitor",value:function(o){this.monitor=o}},{key:"canDrop",value:function(){return this.spec.canDrop?this.spec.canDrop(this.props,this.monitor):!0}},{key:"hover",value:function(){!this.spec.hover||!this.props||this.spec.hover(this.props,this.monitor,getDecoratedComponent(this.ref))}},{key:"drop",value:function(){if(!!this.spec.drop){var o=this.spec.drop(this.props,this.monitor,this.ref.current);return o}}}]),i}();function createTargetFactory(i){return Object.keys(i).forEach(function(a){invariant(ALLOWED_SPEC_METHODS.indexOf(a)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',ALLOWED_SPEC_METHODS.join(", "),a),invariant(typeof i[a]=="function","Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",a,a,i[a])}),function(o,s){return new TargetImpl(i,o,s)}}function DropTarget(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=i;typeof i!="function"&&(invariant(isValidType(i,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i),u=function(){return i}),invariant(isPlainObject(a),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',a);var _=createTargetFactory(a);return invariant(typeof o=="function",'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o),invariant(isPlainObject(s),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',o),function(S){return decorateHandler({containerDisplayName:"DropTarget",createHandler:_,registerHandler:registerTarget,createMonitor:function(T){return new DropTargetMonitorImpl(T)},createConnector:function(T){return new TargetConnector(T)},DecoratedComponent:S,getType:u,collect:o,options:s})}}class FormContainer extends React__namespace.Component{constructor(){super(...arguments);X(this,"formElementRef",React__namespace.createRef())}getHtml(){return{__html:this.props.template.replace(/__prefix__/g,this.props.form.id.toString())}}render(){return jsx("div",{className:"condensed-inline-panel__form",dangerouslySetInnerHTML:this.getHtml(),ref:this.formElementRef})}componentDidMount(){let formElement=this.formElementRef.current;if(!formElement)throw Error("Cannot find form element");for(let i in this.props.form.fields){let a=document.getElementById(`${this.props.prefix}-${i}`);if(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement||a instanceof HTMLSelectElement)if(a instanceof HTMLInputElement&&a.type==="checkbox"){let o=a;o.checked=this.props.form.fields[i]}else a.value=this.props.form.fields[i]}if(this.props.form.errors)for(let i in this.props.form.errors){let a=document.getElementById(`${this.props.prefix}-${i}`);if(a===null)continue;let o=a.closest(".field");if(o===null)continue;o.classList.add("error");let s=o.getElementsByClassName("field-content")[0]||o,u=document.createElement("p");u.classList.add("error-message"),u.innerHTML=`<span>${this.props.form.errors[i].map(_=>_.message).join(" ")}</span>`,s.appendChild(u)}formElement.querySelectorAll("script").forEach(scriptTag=>{eval(scriptTag.innerHTML)}),formElement.querySelectorAll(".page-chooser").forEach(i=>{let a=i.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(a){let o=a[1];this.props.form.fields[o]&&(i.classList.remove("blank"),i.getElementsByClassName("title")[0].textContent=this.props.form.extra[o].title)}}),formElement.querySelectorAll(".image-chooser").forEach(i=>{let a=i.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(a){let o=a[1];if(this.props.form.fields[o]){i.classList.remove("blank");let s=i.querySelector(".preview-image img");s instanceof HTMLImageElement&&(s.src=this.props.form.extra[o].preview_image.src,s.alt=this.props.form.extra[o].preview_image.alt,s.width=this.props.form.extra[o].preview_image.width,s.height=this.props.form.extra[o].preview_image.height)}}}),formElement.querySelectorAll(".snippet-chooser").forEach(i=>{let a=i.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(a){let o=a[1];this.props.form.fields[o]&&(i.classList.remove("blank"),i.getElementsByClassName("title")[0].textContent=this.props.form.extra[o].title)}}),formElement.querySelectorAll(".document-chooser").forEach(i=>{let a=i.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(a){let o=a[1];this.props.form.fields[o]&&(i.classList.remove("blank"),i.getElementsByClassName("title")[0].textContent=this.props.form.extra[o].title)}})}}class Card extends React__namespace.Component{constructor(a){super(a);this.state={showDeleteConfirm:!1}}shouldRenderForm(a=this.props){return a.form.forceFormRender?!0:(a.form.isEditing||a.form.hasChanged||a.form.isDeleted)&&a.canEdit}onEditStart(a){return this.props.onEditStart(a)}onEditClose(a){let o={};for(let s in this.props.form.fields){let u=document.getElementById(`${this.props.formPrefix}-${s}`);(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u instanceof HTMLSelectElement)&&(o[s]=u.value)}return this.props.onEditClose(a,o)}onDelete(a){return this.setState({showDeleteConfirm:!0}),a.preventDefault(),!1}onDeleteCancel(a){return this.setState({showDeleteConfirm:!1}),a.preventDefault(),!1}onDeleteConfirm(a){return this.props.onDelete(a)}renderActions(){let a=[];return this.props.canEdit&&(this.props.form.isEditing?a.push(jsx("li",{onClick:this.onEditClose.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-close icon icon-edit"},"edit-close")):a.push(jsx("li",{onClick:this.onEditStart.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-edit icon icon-edit"},"edit-start"))),this.props.canDelete&&a.push(jsx("li",{onClick:this.onDelete.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete icon icon-bin"},"delete")),this.props.customiseActions&&this.props.customiseActions(this.props,a),this.props.canDelete&&this.state.showDeleteConfirm&&(a=[jsx("li",{className:"condensed-inline-panel__delete-confirm-message",children:"Are you sure that you want to delete this?"},"delete-confirm"),jsx("li",{onClick:this.onDeleteConfirm.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete-confirm icon icon-tick"},"delete"),jsx("li",{onClick:this.onDeleteCancel.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete-confirm-cancel icon icon-cross"},"cancel")]),a}getClassNames(){let a=["condensed-inline-panel__card"];return this.props.form.errors&&Object.keys(this.props.form.errors).length>0&&a.push("condensed-inline-panel__card--errors"),this.props.form.isNew?a.push("condensed-inline-panel__card--new"):this.props.form.hasChanged&&a.push("condensed-inline-panel__card--changed"),this.props.form.isDeleted?a.push("condensed-inline-panel__card--deleted"):this.props.form.isEditing&&a.push("condensed-inline-panel__card--editing"),this.props.isDragging&&a.push("condensed-inline-panel__card--dragging"),a}render(){let a=jsx("div",{className:"condensed-inline-panel__form"});this.shouldRenderForm()&&(a=jsx(FormContainer,{form:this.props.form,template:this.props.template,prefix:this.props.formPrefix}));let o=jsxs("div",{className:"condensed-inline-panel__card-header",children:[jsx("ul",{className:"condensed-inline-panel__actions",children:this.renderActions()}),jsx("h2",{dangerouslySetInnerHTML:this.props.renderCardHeader(this.props.form)})]});return o=this.props.connectDragSource(o),jsxs("div",{className:this.getClassNames().join(" "),children:[o,a]})}}let dragSource={canDrag(i,a){return i.canOrder},beginDrag(i,a,o){return{formId:i.form.id}}};function dragSourceCollect(i,a){return{connectDragSource:i.dragSource(),isDragging:a.isDragging()}}let DraggableCard=DragSource(i=>i.dndKey,dragSource,dragSourceCollect)(Card);function memoize(i){var a=null,o=function(){return a==null&&(a=i()),a};return o}function without(i,a){return i.filter(function(o){return o!==a})}function union(i,a){var o=new Set,s=function(D){return o.add(D)};i.forEach(s),a.forEach(s);var u=[];return o.forEach(function(_){return u.push(_)}),u}function _classCallCheck$4(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$4(i,a,o){return a&&_defineProperties$4(i.prototype,a),o&&_defineProperties$4(i,o),i}function _defineProperty$5(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var EnterLeaveCounter=function(){function i(a){_classCallCheck$4(this,i),_defineProperty$5(this,"entered",[]),_defineProperty$5(this,"isNodeInDocument",void 0),this.isNodeInDocument=a}return _createClass$4(i,[{key:"enter",value:function(o){var s=this,u=this.entered.length,_=function(S){return s.isNodeInDocument(S)&&(!S.contains||S.contains(o))};return this.entered=union(this.entered.filter(_),[o]),u===0&&this.entered.length>0}},{key:"leave",value:function(o){var s=this.entered.length;return this.entered=without(this.entered.filter(this.isNodeInDocument),o),s>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),i}(),isFirefox=memoize(function(){return/firefox/i.test(navigator.userAgent)}),isSafari=memoize(function(){return Boolean(window.safari)});function _classCallCheck$3(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$3(i,a,o){return a&&_defineProperties$3(i.prototype,a),o&&_defineProperties$3(i,o),i}function _defineProperty$4(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var MonotonicInterpolant=function(){function i(a,o){_classCallCheck$3(this,i),_defineProperty$4(this,"xs",void 0),_defineProperty$4(this,"ys",void 0),_defineProperty$4(this,"c1s",void 0),_defineProperty$4(this,"c2s",void 0),_defineProperty$4(this,"c3s",void 0);for(var s=a.length,u=[],_=0;_<s;_++)u.push(_);u.sort(function(B,W){return a[B]<a[W]?-1:1});for(var D=[],S=[],O,T,I=0;I<s-1;I++)O=a[I+1]-a[I],T=o[I+1]-o[I],D.push(O),S.push(T/O);for(var E=[S[0]],P=0;P<D.length-1;P++){var R=S[P],N=S[P+1];if(R*N<=0)E.push(0);else{O=D[P];var $=D[P+1],j=O+$;E.push(3*j/((j+$)/R+(j+O)/N))}}E.push(S[S.length-1]);for(var L=[],M=[],C,H=0;H<E.length-1;H++){C=S[H];var G=E[H],F=1/D[H],U=G+E[H+1]-C-C;L.push((C-G-U)*F),M.push(U*F*F)}this.xs=a,this.ys=o,this.c1s=E,this.c2s=L,this.c3s=M}return _createClass$3(i,[{key:"interpolate",value:function(o){var s=this.xs,u=this.ys,_=this.c1s,D=this.c2s,S=this.c3s,O=s.length-1;if(o===s[O])return u[O];for(var T=0,I=S.length-1,E;T<=I;){E=Math.floor(.5*(T+I));var P=s[E];if(P<o)T=E+1;else if(P>o)I=E-1;else return u[E]}O=Math.max(0,I);var R=o-s[O],N=R*R;return u[O]+_[O]*R+D[O]*N+S[O]*R*N}}]),i}(),ELEMENT_NODE=1;function getNodeClientOffset(i){var a=i.nodeType===ELEMENT_NODE?i:i.parentElement;if(!a)return null;var o=a.getBoundingClientRect(),s=o.top,u=o.left;return{x:u,y:s}}function getEventClientOffset(i){return{x:i.clientX,y:i.clientY}}function isImageNode(i){var a;return i.nodeName==="IMG"&&(isFirefox()||!((a=document.documentElement)!==null&&a!==void 0&&a.contains(i)))}function getDragPreviewSize(i,a,o,s){var u=i?a.width:o,_=i?a.height:s;return isSafari()&&i&&(_/=window.devicePixelRatio,u/=window.devicePixelRatio),{dragPreviewWidth:u,dragPreviewHeight:_}}function getDragPreviewOffset(i,a,o,s,u){var _=isImageNode(a),D=_?i:a,S=getNodeClientOffset(D),O={x:o.x-S.x,y:o.y-S.y},T=i.offsetWidth,I=i.offsetHeight,E=s.anchorX,P=s.anchorY,R=getDragPreviewSize(_,a,T,I),N=R.dragPreviewWidth,$=R.dragPreviewHeight,j=function(){var U=new MonotonicInterpolant([0,.5,1],[O.y,O.y/I*$,O.y+$-I]),B=U.interpolate(P);return isSafari()&&_&&(B+=(window.devicePixelRatio-1)*$),B},L=function(){var U=new MonotonicInterpolant([0,.5,1],[O.x,O.x/T*N,O.x+N-T]);return U.interpolate(E)},M=u.offsetX,C=u.offsetY,H=M===0||M,G=C===0||C;return{x:H?M:L(),y:G?C:j()}}var FILE="__NATIVE_FILE__",URL="__NATIVE_URL__",TEXT="__NATIVE_TEXT__",HTML="__NATIVE_HTML__",NativeTypes=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",FILE,URL,TEXT,HTML});function getDataFromDataTransfer(i,a,o){var s=a.reduce(function(u,_){return u||i.getData(_)},"");return s!=null?s:o}var _nativeTypesConfig;function _defineProperty$3(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var nativeTypesConfig=(_nativeTypesConfig={},_defineProperty$3(_nativeTypesConfig,FILE,{exposeProperties:{files:function i(a){return Array.prototype.slice.call(a.files)},items:function i(a){return a.items},dataTransfer:function i(a){return a}},matchesTypes:["Files"]}),_defineProperty$3(_nativeTypesConfig,HTML,{exposeProperties:{html:function i(a,o){return getDataFromDataTransfer(a,o,"")},dataTransfer:function i(a){return a}},matchesTypes:["Html","text/html"]}),_defineProperty$3(_nativeTypesConfig,URL,{exposeProperties:{urls:function i(a,o){return getDataFromDataTransfer(a,o,"").split(`
`)},dataTransfer:function i(a){return a}},matchesTypes:["Url","text/uri-list"]}),_defineProperty$3(_nativeTypesConfig,TEXT,{exposeProperties:{text:function i(a,o){return getDataFromDataTransfer(a,o,"")},dataTransfer:function i(a){return a}},matchesTypes:["Text","text/plain"]}),_nativeTypesConfig);function _classCallCheck$2(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$2(i,a,o){return a&&_defineProperties$2(i.prototype,a),o&&_defineProperties$2(i,o),i}function _defineProperty$2(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var NativeDragSource=function(){function i(a){_classCallCheck$2(this,i),_defineProperty$2(this,"item",void 0),_defineProperty$2(this,"config",void 0),this.config=a,this.item={},this.initializeExposedProperties()}return _createClass$2(i,[{key:"initializeExposedProperties",value:function(){var o=this;Object.keys(this.config.exposeProperties).forEach(function(s){Object.defineProperty(o.item,s,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(s,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(o){var s=this;if(o){var u={};Object.keys(this.config.exposeProperties).forEach(function(_){u[_]={value:s.config.exposeProperties[_](o,s.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,u)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(o,s){return s===o.getSourceId()}},{key:"endDrag",value:function(){}}]),i}();function createNativeDragSource(i,a){var o=new NativeDragSource(nativeTypesConfig[i]);return o.loadDataTransfer(a),o}function matchNativeItemType(i){if(!i)return null;var a=Array.prototype.slice.call(i.types||[]);return Object.keys(nativeTypesConfig).filter(function(o){var s=nativeTypesConfig[o].matchesTypes;return s.some(function(u){return a.indexOf(u)>-1})})[0]||null}function _classCallCheck$1(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass$1(i,a,o){return a&&_defineProperties$1(i.prototype,a),o&&_defineProperties$1(i,o),i}function _defineProperty$1(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var OptionsReader=function(){function i(a,o){_classCallCheck$1(this,i),_defineProperty$1(this,"ownerDocument",null),_defineProperty$1(this,"globalContext",void 0),_defineProperty$1(this,"optionsArgs",void 0),this.globalContext=a,this.optionsArgs=o}return _createClass$1(i,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){var o;return(o=this.globalContext)!==null&&o!==void 0&&o.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var o;return((o=this.optionsArgs)===null||o===void 0?void 0:o.rootElement)||this.window}}]),i}();function ownKeys(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),o.push.apply(o,s)}return o}function _objectSpread(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?ownKeys(Object(o),!0).forEach(function(s){_defineProperty(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}function _classCallCheck(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,a){for(var o=0;o<a.length;o++){var s=a[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}function _createClass(i,a,o){return a&&_defineProperties(i.prototype,a),o&&_defineProperties(i,o),i}function _defineProperty(i,a,o){return a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i}var HTML5BackendImpl=function(){function i(a,o,s){var u=this;_classCallCheck(this,i),_defineProperty(this,"options",void 0),_defineProperty(this,"actions",void 0),_defineProperty(this,"monitor",void 0),_defineProperty(this,"registry",void 0),_defineProperty(this,"enterLeaveCounter",void 0),_defineProperty(this,"sourcePreviewNodes",new Map),_defineProperty(this,"sourcePreviewNodeOptions",new Map),_defineProperty(this,"sourceNodes",new Map),_defineProperty(this,"sourceNodeOptions",new Map),_defineProperty(this,"dragStartSourceIds",null),_defineProperty(this,"dropTargetIds",[]),_defineProperty(this,"dragEnterTargetIds",[]),_defineProperty(this,"currentNativeSource",null),_defineProperty(this,"currentNativeHandle",null),_defineProperty(this,"currentDragSourceNode",null),_defineProperty(this,"altKeyPressed",!1),_defineProperty(this,"mouseMoveTimeoutTimer",null),_defineProperty(this,"asyncEndDragFrameId",null),_defineProperty(this,"dragOverTargetIds",null),_defineProperty(this,"lastClientOffset",null),_defineProperty(this,"hoverRafId",null),_defineProperty(this,"getSourceClientOffset",function(_){var D=u.sourceNodes.get(_);return D&&getNodeClientOffset(D)||null}),_defineProperty(this,"endDragNativeItem",function(){!u.isDraggingNativeItem()||(u.actions.endDrag(),u.currentNativeHandle&&u.registry.removeSource(u.currentNativeHandle),u.currentNativeHandle=null,u.currentNativeSource=null)}),_defineProperty(this,"isNodeInDocument",function(_){return Boolean(_&&u.document&&u.document.body&&u.document.body.contains(_))}),_defineProperty(this,"endDragIfSourceWasRemovedFromDOM",function(){var _=u.currentDragSourceNode;_==null||u.isNodeInDocument(_)||u.clearCurrentDragSourceNode()&&u.monitor.isDragging()&&u.actions.endDrag()}),_defineProperty(this,"handleTopDragStartCapture",function(){u.clearCurrentDragSourceNode(),u.dragStartSourceIds=[]}),_defineProperty(this,"handleTopDragStart",function(_){if(!_.defaultPrevented){var D=u.dragStartSourceIds;u.dragStartSourceIds=null;var S=getEventClientOffset(_);u.monitor.isDragging()&&u.actions.endDrag(),u.actions.beginDrag(D||[],{publishSource:!1,getSourceClientOffset:u.getSourceClientOffset,clientOffset:S});var O=_.dataTransfer,T=matchNativeItemType(O);if(u.monitor.isDragging()){if(O&&typeof O.setDragImage=="function"){var I=u.monitor.getSourceId(),E=u.sourceNodes.get(I),P=u.sourcePreviewNodes.get(I)||E;if(P){var R=u.getCurrentSourcePreviewNodeOptions(),N=R.anchorX,$=R.anchorY,j=R.offsetX,L=R.offsetY,M={anchorX:N,anchorY:$},C={offsetX:j,offsetY:L},H=getDragPreviewOffset(E,P,S,M,C);O.setDragImage(P,H.x,H.y)}}try{O==null||O.setData("application/json",{})}catch{}u.setCurrentDragSourceNode(_.target);var G=u.getCurrentSourcePreviewNodeOptions(),F=G.captureDraggingState;F?u.actions.publishDragSource():setTimeout(function(){return u.actions.publishDragSource()},0)}else if(T)u.beginDragNativeItem(T);else{if(O&&!O.types&&(_.target&&!_.target.hasAttribute||!_.target.hasAttribute("draggable")))return;_.preventDefault()}}}),_defineProperty(this,"handleTopDragEndCapture",function(){u.clearCurrentDragSourceNode()&&u.monitor.isDragging()&&u.actions.endDrag()}),_defineProperty(this,"handleTopDragEnterCapture",function(_){u.dragEnterTargetIds=[];var D=u.enterLeaveCounter.enter(_.target);if(!(!D||u.monitor.isDragging())){var S=_.dataTransfer,O=matchNativeItemType(S);O&&u.beginDragNativeItem(O,S)}}),_defineProperty(this,"handleTopDragEnter",function(_){var D=u.dragEnterTargetIds;if(u.dragEnterTargetIds=[],!!u.monitor.isDragging()){u.altKeyPressed=_.altKey,D.length>0&&u.actions.hover(D,{clientOffset:getEventClientOffset(_)});var S=D.some(function(O){return u.monitor.canDropOnTarget(O)});S&&(_.preventDefault(),_.dataTransfer&&(_.dataTransfer.dropEffect=u.getCurrentDropEffect()))}}),_defineProperty(this,"handleTopDragOverCapture",function(){u.dragOverTargetIds=[]}),_defineProperty(this,"handleTopDragOver",function(_){var D=u.dragOverTargetIds;if(u.dragOverTargetIds=[],!u.monitor.isDragging()){_.preventDefault(),_.dataTransfer&&(_.dataTransfer.dropEffect="none");return}u.altKeyPressed=_.altKey,u.lastClientOffset=getEventClientOffset(_),u.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(u.hoverRafId=requestAnimationFrame(function(){u.monitor.isDragging()&&u.actions.hover(D||[],{clientOffset:u.lastClientOffset}),u.hoverRafId=null}));var S=(D||[]).some(function(O){return u.monitor.canDropOnTarget(O)});S?(_.preventDefault(),_.dataTransfer&&(_.dataTransfer.dropEffect=u.getCurrentDropEffect())):u.isDraggingNativeItem()?_.preventDefault():(_.preventDefault(),_.dataTransfer&&(_.dataTransfer.dropEffect="none"))}),_defineProperty(this,"handleTopDragLeaveCapture",function(_){u.isDraggingNativeItem()&&_.preventDefault();var D=u.enterLeaveCounter.leave(_.target);!D||u.isDraggingNativeItem()&&setTimeout(function(){return u.endDragNativeItem()},0)}),_defineProperty(this,"handleTopDropCapture",function(_){if(u.dropTargetIds=[],u.isDraggingNativeItem()){var D;_.preventDefault(),(D=u.currentNativeSource)===null||D===void 0||D.loadDataTransfer(_.dataTransfer)}else matchNativeItemType(_.dataTransfer)&&_.preventDefault();u.enterLeaveCounter.reset()}),_defineProperty(this,"handleTopDrop",function(_){var D=u.dropTargetIds;u.dropTargetIds=[],u.actions.hover(D,{clientOffset:getEventClientOffset(_)}),u.actions.drop({dropEffect:u.getCurrentDropEffect()}),u.isDraggingNativeItem()?u.endDragNativeItem():u.monitor.isDragging()&&u.actions.endDrag()}),_defineProperty(this,"handleSelectStart",function(_){var D=_.target;typeof D.dragDrop=="function"&&(D.tagName==="INPUT"||D.tagName==="SELECT"||D.tagName==="TEXTAREA"||D.isContentEditable||(_.preventDefault(),D.dragDrop()))}),this.options=new OptionsReader(o,s),this.actions=a.getActions(),this.monitor=a.getMonitor(),this.registry=a.getRegistry(),this.enterLeaveCounter=new EnterLeaveCounter(this.isNodeInDocument)}return _createClass(i,[{key:"profile",value:function(){var o,s;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((o=this.dragStartSourceIds)===null||o===void 0?void 0:o.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((s=this.dragOverTargetIds)===null||s===void 0?void 0:s.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var o=this.rootElement;if(o!==void 0){if(o.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");o.__isReactDndBackendSetUp=!0,this.addEventListeners(o)}}},{key:"teardown",value:function(){var o=this.rootElement;if(o!==void 0&&(o.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var s;(s=this.window)===null||s===void 0||s.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(o,s,u){var _=this;return this.sourcePreviewNodeOptions.set(o,u),this.sourcePreviewNodes.set(o,s),function(){_.sourcePreviewNodes.delete(o),_.sourcePreviewNodeOptions.delete(o)}}},{key:"connectDragSource",value:function(o,s,u){var _=this;this.sourceNodes.set(o,s),this.sourceNodeOptions.set(o,u);var D=function(T){return _.handleDragStart(T,o)},S=function(T){return _.handleSelectStart(T)};return s.setAttribute("draggable","true"),s.addEventListener("dragstart",D),s.addEventListener("selectstart",S),function(){_.sourceNodes.delete(o),_.sourceNodeOptions.delete(o),s.removeEventListener("dragstart",D),s.removeEventListener("selectstart",S),s.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(o,s){var u=this,_=function(T){return u.handleDragEnter(T,o)},D=function(T){return u.handleDragOver(T,o)},S=function(T){return u.handleDrop(T,o)};return s.addEventListener("dragenter",_),s.addEventListener("dragover",D),s.addEventListener("drop",S),function(){s.removeEventListener("dragenter",_),s.removeEventListener("dragover",D),s.removeEventListener("drop",S)}}},{key:"addEventListeners",value:function(o){!o.addEventListener||(o.addEventListener("dragstart",this.handleTopDragStart),o.addEventListener("dragstart",this.handleTopDragStartCapture,!0),o.addEventListener("dragend",this.handleTopDragEndCapture,!0),o.addEventListener("dragenter",this.handleTopDragEnter),o.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),o.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),o.addEventListener("dragover",this.handleTopDragOver),o.addEventListener("dragover",this.handleTopDragOverCapture,!0),o.addEventListener("drop",this.handleTopDrop),o.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(o){!o.removeEventListener||(o.removeEventListener("dragstart",this.handleTopDragStart),o.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),o.removeEventListener("dragend",this.handleTopDragEndCapture,!0),o.removeEventListener("dragenter",this.handleTopDragEnter),o.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),o.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),o.removeEventListener("dragover",this.handleTopDragOver),o.removeEventListener("dragover",this.handleTopDragOverCapture,!0),o.removeEventListener("drop",this.handleTopDrop),o.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var o=this.monitor.getSourceId(),s=this.sourceNodeOptions.get(o);return _objectSpread({dropEffect:this.altKeyPressed?"copy":"move"},s||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var o=this.monitor.getSourceId(),s=this.sourcePreviewNodeOptions.get(o);return _objectSpread({anchorX:.5,anchorY:.5,captureDraggingState:!1},s||{})}},{key:"isDraggingNativeItem",value:function(){var o=this.monitor.getItemType();return Object.keys(NativeTypes).some(function(s){return NativeTypes[s]===o})}},{key:"beginDragNativeItem",value:function(o,s){this.clearCurrentDragSourceNode(),this.currentNativeSource=createNativeDragSource(o,s),this.currentNativeHandle=this.registry.addSource(o,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(o){var s=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=o;var u=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var _;return(_=s.rootElement)===null||_===void 0?void 0:_.addEventListener("mousemove",s.endDragIfSourceWasRemovedFromDOM,!0)},u)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var o;(o=this.window)===null||o===void 0||o.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(o,s){o.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(s))}},{key:"handleDragEnter",value:function(o,s){this.dragEnterTargetIds.unshift(s)}},{key:"handleDragOver",value:function(o,s){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(s)}},{key:"handleDrop",value:function(o,s){this.dropTargetIds.unshift(s)}}]),i}(),HTML5Backend=function i(a,o,s){return new HTML5BackendImpl(a,o,s)};class Gap extends React__namespace.Component{drop(a){this.props.onDND&&this.props.onDND(a,this.props.position)}render(){let a=["condensed-inline-panel__gap"],o=null;if(this.props.isOver)a.push("condensed-inline-panel__gap--over"),o=jsx("div",{className:a.join(" "),children:jsx("div",{className:"condensed-inline-panel__gap-pseudoform"})});else{let s=u=>(this.props.onAdd(this.props.position),u.preventDefault(),!1);o=jsx("div",{className:a.join(" "),children:jsx("a",{className:"condensed-inline-panel__add-button icon icon-plus-inverse",href:"#",onClick:s})})}return o=this.props.connectDropTarget(o),o}}let dropTarget={drop(i,a,o){o.drop(a.getItem().formId)}};function dropTargetCollect(i,a){return{connectDropTarget:i.dropTarget(),isOver:a.canDrop()&&a.isOver()}}let DroppableGap=DropTarget(i=>i.dndKey,dropTarget,dropTargetCollect)(Gap);class CardSet extends React__namespace.Component{initGaps(a,o,s){let u=1,_=[];_.push(jsx(DroppableGap,{position:u++,dndKey:this.props.dndKey||this.props.formsetPrefix,onDND:o,onAdd:s},"gap-"+u));for(let D=0;D<a.length;D++)_.push(a[D]),_.push(jsx(DroppableGap,{position:u++,dndKey:this.props.dndKey||this.props.formsetPrefix,onDND:o,onAdd:s},"gap-"+u));return _}render(){let a=[],o=this.props.forms.slice();this.props.sortCompareFunc&&o.sort(this.props.sortCompareFunc);for(let D in o){let S=o[D],O=E=>{let P=JSON.parse(JSON.stringify(S));return P.isEditing=!0,P.hasChanged=!0,this.props.store.dispatch({type:"SET_FORM",formId:P.id,data:P}),E.preventDefault(),!1},T=E=>{let P=JSON.parse(JSON.stringify(S));return P.isDeleted=!0,this.props.store.dispatch({type:"SET_FORM",formId:P.id,data:P}),E.preventDefault(),!1},I=(E,P)=>{let R=JSON.parse(JSON.stringify(S));return R.isEditing=!1,R.fields=P,this.props.store.dispatch({type:"SET_FORM",formId:R.id,data:R}),E.preventDefault(),!1};a.push(jsx(DraggableCard,{form:S,renderCardHeader:this.props.renderCardHeader,canEdit:this.props.canEdit,canDelete:this.props.canDelete,canOrder:this.props.canOrder,template:this.props.formTemplate,formPrefix:`${this.props.formsetPrefix}-${S.id.toString()}`,customiseActions:this.props.customiseCardActions,dndKey:this.props.dndKey||this.props.formsetPrefix,onEditStart:O,onEditClose:I,onDelete:T},S.id))}let s=this.props.onDND||((D,S)=>{this.props.store.dispatch({type:"MOVE_FORM",formId:D,position:S})}),u=D=>{let S=this.props.forms.length;this.props.store.dispatch({type:"ADD_FORM",data:{fields:this.props.emptyForm.fields,extra:{},errors:{},isNew:!0,hasChanged:!0,isEditing:!0,position:this.props.forms.length+1,id:S}}),this.props.store.dispatch({type:"MOVE_FORM",formId:S,position:D})};a=this.initGaps(a,s,u);let _=null;return this.props.canEdit&&(_=jsx("button",{className:"condensed-inline-panel__top-add-button button bicolor icon icon-plus",type:"button",onClick:S=>(u(1),S.preventDefault(),!1),children:this.props.panelLabel})),jsxs("div",{children:[_,a]})}}function DNDCardSet(i){return jsx(DndProvider,{backend:HTML5Backend,children:jsx(CardSet,Y({},i))})}var condensedinlinepanel="";function renderCardHeaderDefault(i){return{__html:""}}function init(i,a={}){const o=a.canEdit||!0,s=a.canDelete||o,u=a.canOrder||!1,_=a.renderCardHeader||renderCardHeaderDefault,D=a.panelLabel||"Add";let S=document.getElementById(i);if(S===null){console.error(`CondensedInlinePanel.init(): Element with id '${i}' does not exist.`);return}let O=document.getElementById(i+"-TOTAL_FORMS"),T=S.getElementsByClassName("condensed-inline-panel__data")[0];S.getElementsByClassName("condensed-inline-panel__sort-order")[0];let I=S.getElementsByClassName("condensed-inline-panel__ui-container")[0],E=createStore(reducer),P=(N,$)=>N.position>$.position?1:N.position<$.position?-1:0;if(E.subscribe(()=>{if(S===null)return;let N=E.getState()||emptyState();ReactDOM__namespace.render(jsx(DNDCardSet,{forms:N.forms,panelLabel:D,renderCardHeader:_,canEdit:o,canDelete:s,canOrder:u,store:E,emptyForm:N.emptyForm,formTemplate:S.dataset.formTemplate||"",formsetPrefix:i,sortCompareFunc:P}),I)}),u){let N=S.getElementsByClassName("condensed-inline-panel__sort-order")[0];E.subscribe(()=>{let $=E.getState()||emptyState(),j=[];for(let L=0;L<$.forms.length;L++)j.push($.forms[L].position);N instanceof HTMLInputElement&&(N.value=JSON.stringify(j))})}let R=S.getElementsByClassName("condensed-inline-panel__delete")[0];E.subscribe(()=>{let N=E.getState()||emptyState(),$=[];for(let j=0;j<N.forms.length;j++)N.forms[j].isDeleted&&$.push(N.forms[j].id);R instanceof HTMLInputElement&&(R.value=JSON.stringify($))}),T instanceof HTMLInputElement&&E.dispatch({type:"SET_STATE",state:JSON.parse(T.value)}),E.subscribe(()=>{let N=E.getState()||emptyState();O instanceof HTMLInputElement&&(O.value=N.forms.length.toString())})}return exports.Card=DraggableCard,exports.CardSet=DNDCardSet,exports.init=init,exports.reducer=reducer,Object.defineProperty(exports,"__esModule",{value:!0}),exports[Symbol.toStringTag]="Module",exports}({},ReactDOM,React);
