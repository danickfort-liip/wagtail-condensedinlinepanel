var CondensedInlinePanel=function(exports,ReactDOM,require$$0){"use strict";function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t={__proto__:null,[Symbol.toStringTag]:"Module"};return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var ReactDOM__namespace=_interopNamespace(ReactDOM),require$$0__default=_interopDefaultLegacy(require$$0),require$$0__namespace=_interopNamespace(require$$0),freeGlobal$2=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$3=freeGlobal$2,freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$6=freeGlobal$3||freeSelf$1||Function("return this")(),root$7=root$6,Symbol$5=root$7.Symbol,Symbol$6=Symbol$5,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty,nativeObjectToString$3=objectProto$d.toString,symToStringTag$3=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$2(e){var t=hasOwnProperty$a.call(e,symToStringTag$3),r=e[symToStringTag$3];try{e[symToStringTag$3]=void 0;var a=!0}catch{}var o=nativeObjectToString$3.call(e);return a&&(t?e[symToStringTag$3]=r:delete e[symToStringTag$3]),o}var objectProto$c=Object.prototype,nativeObjectToString$2=objectProto$c.toString;function objectToString$2(e){return nativeObjectToString$2.call(e)}var nullTag$1="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$6?Symbol$6.toStringTag:void 0;function baseGetTag$5(e){return e==null?e===void 0?undefinedTag$1:nullTag$1:symToStringTag$2&&symToStringTag$2 in Object(e)?getRawTag$2(e):objectToString$2(e)}function overArg$2(e,t){return function(r){return e(t(r))}}var getPrototype$2=overArg$2(Object.getPrototypeOf,Object),getPrototype$3=getPrototype$2;function isObjectLike$6(e){return e!=null&&typeof e=="object"}var objectTag$2="[object Object]",funcProto$3=Function.prototype,objectProto$b=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$9=objectProto$b.hasOwnProperty,objectCtorString$1=funcToString$3.call(Object);function isPlainObject$1(e){if(!isObjectLike$6(e)||baseGetTag$5(e)!=objectTag$2)return!1;var t=getPrototype$3(e);if(t===null)return!0;var r=hasOwnProperty$9.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&funcToString$3.call(r)==objectCtorString$1}function symbolObservablePonyfill(e){var t,r=e.Symbol;return typeof r=="function"?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var root$5;typeof self!="undefined"?root$5=self:typeof window!="undefined"?root$5=window:typeof global!="undefined"?root$5=global:typeof module!="undefined"?root$5=module:root$5=Function("return this")();var result=symbolObservablePonyfill(root$5),es=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:result}),ActionTypes={INIT:"@@redux/INIT"};function createStore$1(e,t,r){var a;if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error("Expected the enhancer to be a function.");return r(createStore$1)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var o=e,s=t,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function v(){return s}function _(b){if(typeof b!="function")throw new Error("Expected listener to be a function.");var S=!0;return d(),u.push(b),function(){if(!!S){S=!1,d();var O=u.indexOf(b);u.splice(O,1)}}}function y(b){if(!isPlainObject$1(b))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof b.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,s=o(s,b)}finally{c=!1}for(var S=l=u,E=0;E<S.length;E++){var O=S[E];O()}return b}function D(b){if(typeof b!="function")throw new Error("Expected the nextReducer to be a function.");o=b,y({type:ActionTypes.INIT})}function $(){var b,S=_;return b={subscribe:function(O){if(typeof O!="object")throw new TypeError("Expected the observer to be an object.");function C(){O.next&&O.next(v())}C();var T=S(C);return{unsubscribe:T}}},b[result]=function(){return this},b}return y({type:ActionTypes.INIT}),a={dispatch:y,subscribe:_,getState:v,replaceReducer:D},a[result]=$,a}function emptyState(){return{forms:[],emptyForm:{id:0,isEditing:!1,isNew:!1,isDeleted:!1,hasChanged:!1,position:1,fields:{},extra:{},errors:{}}}}function reducer(e=null,t){if(t.type=="SET_STATE")return t.state;if(e==null)return null;let{forms:r,emptyForm:a}=e;if(t.type=="SET_FORM"){let o=r.slice();return o[t.formId]=t.data,{forms:o,emptyForm:a}}if(t.type=="ADD_FORM"){let o=r.slice();return o.push(t.data),{forms:o,emptyForm:a}}if(t.type=="MOVE_FORM"){let o=r.slice(),s=o[t.formId];s.hasChanged=!0;let l=s.position,u=t.position;u>l&&u--,s.position=u;for(let c=0;c<o.length;c++){if(c==t.formId)continue;let d=o[c];d.position>=l&&d.position--,d.position>=u&&d.position++}return{forms:o,emptyForm:a}}return{forms:r,emptyForm:a}}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),t}var lib$2={},DragDropContext$1={},propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,o,s,l,u,c){if(c!==ReactPropTypesSecret){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return r.PropTypes=r,r};propTypes.exports=factoryWithThrowingShims();var lib$1={},DragDropManager$1={},createStore={},freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$4=freeGlobal||freeSelf||Function("return this")(),_root=root$4,root$3=_root,Symbol$4=root$3.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty,nativeObjectToString$1=objectProto$a.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(e){var t=hasOwnProperty$8.call(e,symToStringTag$1),r=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var a=!0}catch{}var o=nativeObjectToString$1.call(e);return a&&(t?e[symToStringTag$1]=r:delete e[symToStringTag$1]),o}var _getRawTag=getRawTag$1,objectProto$9=Object.prototype,nativeObjectToString=objectProto$9.toString;function objectToString$1(e){return nativeObjectToString.call(e)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$4(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}var _baseGetTag=baseGetTag$4;function overArg$1(e,t){return function(r){return e(t(r))}}var _overArg=overArg$1,overArg=_overArg,getPrototype$1=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$1;function isObjectLike$5(e){return e!=null&&typeof e=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$3=_baseGetTag,getPrototype=_getPrototype,isObjectLike$4=isObjectLike_1,objectTag$1="[object Object]",funcProto$2=Function.prototype,objectProto$8=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$7=objectProto$8.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(e){if(!isObjectLike$4(e)||baseGetTag$3(e)!=objectTag$1)return!1;var t=getPrototype(e);if(t===null)return!0;var r=hasOwnProperty$7.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&funcToString$2.call(r)==objectCtorString}var isPlainObject_1=isPlainObject,require$$1=getAugmentedNamespace(es);(function(e){e.__esModule=!0,e.ActionTypes=void 0,e.default=u;var t=isPlainObject_1,r=s(t),a=require$$1,o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=e.ActionTypes={INIT:"@@redux/INIT"};function u(c,d,v){var _;if(typeof d=="function"&&typeof v=="undefined"&&(v=d,d=void 0),typeof v!="undefined"){if(typeof v!="function")throw new Error("Expected the enhancer to be a function.");return v(u)(c,d)}if(typeof c!="function")throw new Error("Expected the reducer to be a function.");var y=c,D=d,$=[],b=$,S=!1;function E(){b===$&&(b=$.slice())}function O(){return D}function C(w){if(typeof w!="function")throw new Error("Expected listener to be a function.");var I=!0;return E(),b.push(w),function(){if(!!I){I=!1,E();var x=b.indexOf(w);b.splice(x,1)}}}function T(w){if(!(0,r.default)(w))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof w.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(S)throw new Error("Reducers may not dispatch actions.");try{S=!0,D=y(D,w)}finally{S=!1}for(var I=$=b,k=0;k<I.length;k++){var x=I[k];x()}return w}function R(w){if(typeof w!="function")throw new Error("Expected the nextReducer to be a function.");y=w,T({type:l.INIT})}function P(){var w,I=C;return w={subscribe:function(x){if(typeof x!="object")throw new TypeError("Expected the observer to be an object.");function M(){x.next&&x.next(O())}M();var N=I(M);return{unsubscribe:N}}},w[o.default]=function(){return this},w}return T({type:l.INIT}),_={dispatch:T,subscribe:C,getState:O,replaceReducer:R},_[o.default]=P,_}})(createStore);var reducers={},dragOffset$1={},dragDrop={},invariant=function(e,t,r,a,o,s,l,u){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,a,o,s,l,u],v=0;c=new Error(t.replace(/%s/g,function(){return d[v++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},browser=invariant,isArray$2=Array.isArray,isArray_1=isArray$2;function isObject$4(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var isObject_1=isObject$4,matchesType$1={};Object.defineProperty(matchesType$1,"__esModule",{value:!0}),matchesType$1.default=matchesType;var _isArray$4=isArray_1,_isArray2$4=_interopRequireDefault$u(_isArray$4);function _interopRequireDefault$u(e){return e&&e.__esModule?e:{default:e}}function matchesType(e,t){return(0,_isArray2$4.default)(e)?e.some(function(r){return r===t}):e===t}Object.defineProperty(dragDrop,"__esModule",{value:!0}),dragDrop.END_DRAG=dragDrop.DROP=dragDrop.HOVER=dragDrop.PUBLISH_DRAG_SOURCE=dragDrop.BEGIN_DRAG=void 0;var _extends$5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};dragDrop.beginDrag=beginDrag,dragDrop.publishDragSource=publishDragSource,dragDrop.hover=hover,dragDrop.drop=drop,dragDrop.endDrag=endDrag;var _invariant$c=browser,_invariant2$c=_interopRequireDefault$t(_invariant$c),_isArray$3=isArray_1,_isArray2$3=_interopRequireDefault$t(_isArray$3),_isObject=isObject_1,_isObject2=_interopRequireDefault$t(_isObject),_matchesType$1=matchesType$1,_matchesType2$1=_interopRequireDefault$t(_matchesType$1);function _interopRequireDefault$t(e){return e&&e.__esModule?e:{default:e}}var BEGIN_DRAG=dragDrop.BEGIN_DRAG="dnd-core/BEGIN_DRAG",PUBLISH_DRAG_SOURCE=dragDrop.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",HOVER=dragDrop.HOVER="dnd-core/HOVER",DROP=dragDrop.DROP="dnd-core/DROP",END_DRAG=dragDrop.END_DRAG="dnd-core/END_DRAG";function beginDrag(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0,clientOffset:null},r=t.publishSource,a=t.clientOffset,o=t.getSourceClientOffset;(0,_invariant2$c.default)((0,_isArray2$3.default)(e),"Expected sourceIds to be an array.");var s=this.getMonitor(),l=this.getRegistry();(0,_invariant2$c.default)(!s.isDragging(),"Cannot call beginDrag while dragging.");for(var u=0;u<e.length;u++)(0,_invariant2$c.default)(l.getSource(e[u]),"Expected sourceIds to be registered.");for(var c=null,d=e.length-1;d>=0;d--)if(s.canDragSource(e[d])){c=e[d];break}if(c!==null){var v=null;a&&((0,_invariant2$c.default)(typeof o=="function","When clientOffset is provided, getSourceClientOffset must be a function."),v=o(c));var _=l.getSource(c),y=_.beginDrag(s,c);(0,_invariant2$c.default)((0,_isObject2.default)(y),"Item must be an object."),l.pinSource(c);var D=l.getSourceType(c);return{type:BEGIN_DRAG,itemType:D,item:y,sourceId:c,clientOffset:a,sourceClientOffset:v,isSourcePublic:r}}}function publishDragSource(){var e=this.getMonitor();if(!!e.isDragging())return{type:PUBLISH_DRAG_SOURCE}}function hover(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.clientOffset,a=r===void 0?null:r;(0,_invariant2$c.default)((0,_isArray2$3.default)(e),"Expected targetIds to be an array.");var o=e.slice(0),s=this.getMonitor(),l=this.getRegistry();(0,_invariant2$c.default)(s.isDragging(),"Cannot call hover while not dragging."),(0,_invariant2$c.default)(!s.didDrop(),"Cannot call hover after drop.");for(var u=0;u<o.length;u++){var c=o[u];(0,_invariant2$c.default)(o.lastIndexOf(c)===u,"Expected targetIds to be unique in the passed array.");var d=l.getTarget(c);(0,_invariant2$c.default)(d,"Expected targetIds to be registered.")}for(var v=s.getItemType(),_=o.length-1;_>=0;_--){var y=o[_],D=l.getTargetType(y);(0,_matchesType2$1.default)(D,v)||o.splice(_,1)}for(var $=0;$<o.length;$++){var b=o[$],S=l.getTarget(b);S.hover(s,b)}return{type:HOVER,targetIds:o,clientOffset:a}}function drop(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this.getMonitor(),a=this.getRegistry();(0,_invariant2$c.default)(r.isDragging(),"Cannot call drop while not dragging."),(0,_invariant2$c.default)(!r.didDrop(),"Cannot call drop twice during one drag operation.");var o=r.getTargetIds().filter(r.canDropOnTarget,r);o.reverse(),o.forEach(function(s,l){var u=a.getTarget(s),c=u.drop(r,s);(0,_invariant2$c.default)(typeof c=="undefined"||(0,_isObject2.default)(c),"Drop result must either be an object or undefined."),typeof c=="undefined"&&(c=l===0?{}:r.getDropResult()),e.store.dispatch({type:DROP,dropResult:_extends$5({},t,c)})})}function endDrag(){var e=this.getMonitor(),t=this.getRegistry();(0,_invariant2$c.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var r=e.getSourceId(),a=t.getSource(r,!0);return a.endDrag(e,r),t.unpinSource(),{type:END_DRAG}}Object.defineProperty(dragOffset$1,"__esModule",{value:!0});var _extends$4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};dragOffset$1.default=dragOffset,dragOffset$1.getSourceClientOffset=getSourceClientOffset,dragOffset$1.getDifferenceFromInitialOffset=getDifferenceFromInitialOffset;var _dragDrop$3=dragDrop,initialState$1={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function areOffsetsEqual(e,t){return e===t?!0:e&&t&&e.x===t.x&&e.y===t.y}function dragOffset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$1,t=arguments[1];switch(t.type){case _dragDrop$3.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case _dragDrop$3.HOVER:return areOffsetsEqual(e.clientOffset,t.clientOffset)?e:_extends$4({},e,{clientOffset:t.clientOffset});case _dragDrop$3.END_DRAG:case _dragDrop$3.DROP:return initialState$1;default:return e}}function getSourceClientOffset(e){var t=e.clientOffset,r=e.initialClientOffset,a=e.initialSourceClientOffset;return!t||!r||!a?null:{x:t.x+a.x-r.x,y:t.y+a.y-r.y}}function getDifferenceFromInitialOffset(e){var t=e.clientOffset,r=e.initialClientOffset;return!t||!r?null:{x:t.x-r.x,y:t.y-r.y}}var dragOperation$1={},baseGetTag$2=_baseGetTag,isObject$3=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(e){if(!isObject$3(e))return!1;var t=baseGetTag$2(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction$2,root$2=_root,coreJsData$1=root$2["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked$1(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$1(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var _toSource=toSource$1,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$2=isObject_1,toSource=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(e){if(!isObject$2(e)||isMasked(e))return!1;var t=isFunction$1(e)?reIsNative:reIsHostCtor;return t.test(toSource(e))}var _baseIsNative=baseIsNative$1;function getValue$1(e,t){return e==null?void 0:e[t]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$4(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var _getNative=getNative$4,getNative$3=_getNative,nativeCreate$4=getNative$3(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet$1(e){var t=this.__data__;if(nativeCreate$2){var r=t[e];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$5.call(t,e)?t[e]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas$1(e){var t=this.__data__;return nativeCreate$1?t[e]!==void 0:hasOwnProperty$4.call(t,e)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&&t===void 0?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(e,t){return e===t||e!==e&&t!==t}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(e,t){for(var r=e.length;r--;)if(eq$2(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(e){var t=this.__data__,r=assocIndexOf$3(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():splice.call(t,r,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(e){var t=this.__data__,r=assocIndexOf$2(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(e){return assocIndexOf$1(this.__data__,e)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(e,t){var r=this.__data__,a=assocIndexOf(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ListCache$1.prototype.clear=listCacheClear,ListCache$1.prototype.delete=listCacheDelete,ListCache$1.prototype.get=listCacheGet,ListCache$1.prototype.has=listCacheHas,ListCache$1.prototype.set=listCacheSet;var _ListCache=ListCache$1,getNative$2=_getNative,root$1=_root,Map$1=getNative$2(root$1,"Map"),_Map=Map$1,Hash=_Hash,ListCache=_ListCache,Map=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(e,t){var r=e.__data__;return isKeyable(t)?r[typeof t=="string"?"string":"hash"]:r.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(e){var t=getMapData$3(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(e){return getMapData$2(this,e).get(e)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(e){return getMapData$1(this,e).has(e)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(e,t){var r=getMapData(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}MapCache$2.prototype.clear=mapCacheClear,MapCache$2.prototype.delete=mapCacheDelete,MapCache$2.prototype.get=mapCacheGet,MapCache$2.prototype.has=mapCacheHas,MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(e){return this.__data__.set(e,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$3(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new MapCache$1;++t<r;)this.add(e[t])}SetCache$3.prototype.add=SetCache$3.prototype.push=setCacheAdd,SetCache$3.prototype.has=setCacheHas;var _SetCache=SetCache$3;function baseFindIndex$1(e,t,r,a){for(var o=e.length,s=r+(a?1:-1);a?s--:++s<o;)if(t(e[s],s,e))return s;return-1}var _baseFindIndex=baseFindIndex$1;function baseIsNaN$1(e){return e!==e}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(e,t,r){for(var a=r-1,o=e.length;++a<o;)if(e[a]===t)return a;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(e,t,r){return t===t?strictIndexOf(e,t,r):baseFindIndex(e,baseIsNaN,r)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$3(e,t){var r=e==null?0:e.length;return!!r&&baseIndexOf(e,t,0)>-1}var _arrayIncludes=arrayIncludes$3;function arrayIncludesWith$3(e,t,r){for(var a=-1,o=e==null?0:e.length;++a<o;)if(r(t,e[a]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$3;function arrayMap$3(e,t){for(var r=-1,a=e==null?0:e.length,o=Array(a);++r<a;)o[r]=t(e[r],r,e);return o}var _arrayMap=arrayMap$3;function baseUnary$3(e){return function(t){return e(t)}}var _baseUnary=baseUnary$3;function cacheHas$3(e,t){return e.has(t)}var _cacheHas=cacheHas$3,SetCache$2=_SetCache,arrayIncludes$2=_arrayIncludes,arrayIncludesWith$2=_arrayIncludesWith,arrayMap$2=_arrayMap,baseUnary$2=_baseUnary,cacheHas$2=_cacheHas,LARGE_ARRAY_SIZE$1=200;function baseDifference$2(e,t,r,a){var o=-1,s=arrayIncludes$2,l=!0,u=e.length,c=[],d=t.length;if(!u)return c;r&&(t=arrayMap$2(t,baseUnary$2(r))),a?(s=arrayIncludesWith$2,l=!1):t.length>=LARGE_ARRAY_SIZE$1&&(s=cacheHas$2,l=!1,t=new SetCache$2(t));e:for(;++o<u;){var v=e[o],_=r==null?v:r(v);if(v=a||v!==0?v:0,l&&_===_){for(var y=d;y--;)if(t[y]===_)continue e;c.push(v)}else s(t,_,a)||c.push(v)}return c}var _baseDifference=baseDifference$2;function identity$2(e){return e}var identity_1=identity$2;function apply$1(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$1(e,t,r){return t=nativeMax(t===void 0?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=nativeMax(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=r(l),apply(e,this,u)}}var _overRest=overRest$1;function constant$1(e){return function(){return e}}var constant_1=constant$1,getNative$1=_getNative,defineProperty$2=function(){try{var e=getNative$1(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_defineProperty$1=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty$1,identity$1=identity_1,baseSetToString$1=defineProperty$1?function(e,t){return defineProperty$1(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(e){var t=0,r=0;return function(){var a=nativeNow(),o=HOT_SPAN-(a-r);if(r=a,o>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$1=shortOut(baseSetToString),_setToString=setToString$1,identity=identity_1,overRest=_overRest,setToString=_setToString;function baseRest$5(e,t){return setToString(overRest(e,t,identity),e+"")}var _baseRest=baseRest$5,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$2(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$2,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$3(e){return e!=null&&isLength$1(e.length)&&!isFunction(e)}var isArrayLike_1=isArrayLike$3,isArrayLike$2=isArrayLike_1,isObjectLike$3=isObjectLike_1;function isArrayLikeObject$4(e){return isObjectLike$3(e)&&isArrayLike$2(e)}var isArrayLikeObject_1=isArrayLikeObject$4,baseDifference$1=_baseDifference,baseRest$4=_baseRest,isArrayLikeObject$3=isArrayLikeObject_1,without=baseRest$4(function(e,t){return isArrayLikeObject$3(e)?baseDifference$1(e,t):[]}),without_1=without,registry={};Object.defineProperty(registry,"__esModule",{value:!0}),registry.addSource=addSource,registry.addTarget=addTarget,registry.removeSource=removeSource,registry.removeTarget=removeTarget;var ADD_SOURCE=registry.ADD_SOURCE="dnd-core/ADD_SOURCE",ADD_TARGET=registry.ADD_TARGET="dnd-core/ADD_TARGET",REMOVE_SOURCE=registry.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",REMOVE_TARGET=registry.REMOVE_TARGET="dnd-core/REMOVE_TARGET";function addSource(e){return{type:ADD_SOURCE,sourceId:e}}function addTarget(e){return{type:ADD_TARGET,targetId:e}}function removeSource(e){return{type:REMOVE_SOURCE,sourceId:e}}function removeTarget(e){return{type:REMOVE_TARGET,targetId:e}}Object.defineProperty(dragOperation$1,"__esModule",{value:!0});var _extends$3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};dragOperation$1.default=dragOperation;var _without$1=without_1,_without2$1=_interopRequireDefault$s(_without$1),_dragDrop$2=dragDrop,_registry$3=registry;function _interopRequireDefault$s(e){return e&&e.__esModule?e:{default:e}}var initialState={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function dragOperation(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState,t=arguments[1];switch(t.type){case _dragDrop$2.BEGIN_DRAG:return _extends$3({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case _dragDrop$2.PUBLISH_DRAG_SOURCE:return _extends$3({},e,{isSourcePublic:!0});case _dragDrop$2.HOVER:return _extends$3({},e,{targetIds:t.targetIds});case _registry$3.REMOVE_TARGET:return e.targetIds.indexOf(t.targetId)===-1?e:_extends$3({},e,{targetIds:(0,_without2$1.default)(e.targetIds,t.targetId)});case _dragDrop$2.DROP:return _extends$3({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case _dragDrop$2.END_DRAG:return _extends$3({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}var refCount$1={};Object.defineProperty(refCount$1,"__esModule",{value:!0}),refCount$1.default=refCount;var _registry$2=registry;function refCount(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments[1];switch(t.type){case _registry$2.ADD_SOURCE:case _registry$2.ADD_TARGET:return e+1;case _registry$2.REMOVE_SOURCE:case _registry$2.REMOVE_TARGET:return e-1;default:return e}}var dirtyHandlerIds$1={};function arrayFilter$1(e,t){for(var r=-1,a=e==null?0:e.length,o=0,s=[];++r<a;){var l=e[r];t(l,r,e)&&(s[o++]=l)}return s}var _arrayFilter=arrayFilter$1;function arrayPush$1(e,t){for(var r=-1,a=t.length,o=e.length;++r<a;)e[o+r]=t[r];return e}var _arrayPush=arrayPush$1,baseGetTag$1=_baseGetTag,isObjectLike$2=isObjectLike_1,argsTag$1="[object Arguments]";function baseIsArguments$1(e){return isObjectLike$2(e)&&baseGetTag$1(e)==argsTag$1}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$1=isObjectLike_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty,propertyIsEnumerable=objectProto$4.propertyIsEnumerable,isArguments$2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike$1(e)&&hasOwnProperty$3.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments$2,Symbol$1=_Symbol,isArguments$1=isArguments_1,isArray$1=isArray_1,spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable$1(e){return isArray$1(e)||isArguments$1(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(e,t,r,a,o){var s=-1,l=e.length;for(r||(r=isFlattenable),o||(o=[]);++s<l;){var u=e[s];t>0&&r(u)?t>1?baseFlatten$2(u,t-1,r,a,o):arrayPush(o,u):a||(o[o.length]=u)}return o}var _baseFlatten=baseFlatten$2,getNative=_getNative,root=_root,Set$1=getNative(root,"Set"),_Set=Set$1;function noop$1(){}var noop_1=noop$1;function setToArray$2(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var _setToArray=setToArray$2,Set=_Set,noop=noop_1,setToArray$1=_setToArray,INFINITY=1/0,createSet$1=Set&&1/setToArray$1(new Set([,-0]))[1]==INFINITY?function(e){return new Set(e)}:noop,_createSet=createSet$1,SetCache$1=_SetCache,arrayIncludes$1=_arrayIncludes,arrayIncludesWith$1=_arrayIncludesWith,cacheHas$1=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$2(e,t,r){var a=-1,o=arrayIncludes$1,s=e.length,l=!0,u=[],c=u;if(r)l=!1,o=arrayIncludesWith$1;else if(s>=LARGE_ARRAY_SIZE){var d=t?null:createSet(e);if(d)return setToArray(d);l=!1,o=cacheHas$1,c=new SetCache$1}else c=t?[]:u;e:for(;++a<s;){var v=e[a],_=t?t(v):v;if(v=r||v!==0?v:0,l&&_===_){for(var y=c.length;y--;)if(c[y]===_)continue e;t&&c.push(_),u.push(v)}else o(c,_,r)||(c!==u&&c.push(_),u.push(v))}return u}var _baseUniq=baseUniq$2,baseDifference=_baseDifference,baseFlatten$1=_baseFlatten,baseUniq$1=_baseUniq;function baseXor$1(e,t,r){var a=e.length;if(a<2)return a?baseUniq$1(e[0]):[];for(var o=-1,s=Array(a);++o<a;)for(var l=e[o],u=-1;++u<a;)u!=o&&(s[o]=baseDifference(s[o]||l,e[u],t,r));return baseUniq$1(baseFlatten$1(s,1),t,r)}var _baseXor=baseXor$1,arrayFilter=_arrayFilter,baseRest$3=_baseRest,baseXor=_baseXor,isArrayLikeObject$2=isArrayLikeObject_1,xor=baseRest$3(function(e){return baseXor(arrayFilter(e,isArrayLikeObject$2))}),xor_1=xor,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,arrayMap$1=_arrayMap,baseUnary$1=_baseUnary,cacheHas=_cacheHas,nativeMin=Math.min;function baseIntersection$1(e,t,r){for(var a=r?arrayIncludesWith:arrayIncludes,o=e[0].length,s=e.length,l=s,u=Array(s),c=1/0,d=[];l--;){var v=e[l];l&&t&&(v=arrayMap$1(v,baseUnary$1(t))),c=nativeMin(v.length,c),u[l]=!r&&(t||o>=120&&v.length>=120)?new SetCache(l&&v):void 0}v=e[0];var _=-1,y=u[0];e:for(;++_<o&&d.length<c;){var D=v[_],$=t?t(D):D;if(D=r||D!==0?D:0,!(y?cacheHas(y,$):a(d,$,r))){for(l=s;--l;){var b=u[l];if(!(b?cacheHas(b,$):a(e[l],$,r)))continue e}y&&y.push($),d.push(D)}}return d}var _baseIntersection=baseIntersection$1,isArrayLikeObject$1=isArrayLikeObject_1;function castArrayLikeObject$1(e){return isArrayLikeObject$1(e)?e:[]}var _castArrayLikeObject=castArrayLikeObject$1,arrayMap=_arrayMap,baseIntersection=_baseIntersection,baseRest$2=_baseRest,castArrayLikeObject=_castArrayLikeObject,intersection=baseRest$2(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),intersection_1=intersection;Object.defineProperty(dirtyHandlerIds$1,"__esModule",{value:!0}),dirtyHandlerIds$1.default=dirtyHandlerIds,dirtyHandlerIds$1.areDirty=areDirty;var _xor=xor_1,_xor2=_interopRequireDefault$r(_xor),_intersection=intersection_1,_intersection2=_interopRequireDefault$r(_intersection),_dragDrop$1=dragDrop,_registry$1=registry;function _interopRequireDefault$r(e){return e&&e.__esModule?e:{default:e}}var NONE=[],ALL=[];function dirtyHandlerIds(){var e=arguments[1],t=arguments[2];switch(e.type){case _dragDrop$1.HOVER:break;case _registry$1.ADD_SOURCE:case _registry$1.ADD_TARGET:case _registry$1.REMOVE_TARGET:case _registry$1.REMOVE_SOURCE:return NONE;case _dragDrop$1.BEGIN_DRAG:case _dragDrop$1.PUBLISH_DRAG_SOURCE:case _dragDrop$1.END_DRAG:case _dragDrop$1.DROP:default:return ALL}var r=e.targetIds,a=t.targetIds,o=(0,_xor2.default)(r,a),s=!1;if(o.length===0){for(var l=0;l<r.length;l++)if(r[l]!==a[l]){s=!0;break}}else s=!0;if(!s)return NONE;var u=a[a.length-1],c=r[r.length-1];return u!==c&&(u&&o.push(u),c&&o.push(c)),o}function areDirty(e,t){return e===NONE?!1:e===ALL||typeof t=="undefined"?!0:(0,_intersection2.default)(t,e).length>0}var stateId$1={};Object.defineProperty(stateId$1,"__esModule",{value:!0}),stateId$1.default=stateId;function stateId(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}Object.defineProperty(reducers,"__esModule",{value:!0}),reducers.default=reduce;var _dragOffset$1=dragOffset$1,_dragOffset2=_interopRequireDefault$q(_dragOffset$1),_dragOperation=dragOperation$1,_dragOperation2=_interopRequireDefault$q(_dragOperation),_refCount=refCount$1,_refCount2=_interopRequireDefault$q(_refCount),_dirtyHandlerIds$1=dirtyHandlerIds$1,_dirtyHandlerIds2=_interopRequireDefault$q(_dirtyHandlerIds$1),_stateId=stateId$1,_stateId2=_interopRequireDefault$q(_stateId);function _interopRequireDefault$q(e){return e&&e.__esModule?e:{default:e}}function reduce(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,_dirtyHandlerIds2.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,_dragOffset2.default)(e.dragOffset,t),refCount:(0,_refCount2.default)(e.refCount,t),dragOperation:(0,_dragOperation2.default)(e.dragOperation,t),stateId:(0,_stateId2.default)(e.stateId)}}var DragDropMonitor$1={},HandlerRegistry$1={},browserRaw=rawAsap$1;function rawAsap$1(e){queue.length||requestFlush(),queue[queue.length]=e}var queue=[],requestFlush,index=0,capacity=1024;function flush(){for(;index<queue.length;){var e=index;if(index=index+1,queue[e].call(),index>capacity){for(var t=0,r=queue.length-index;t<r;t++)queue[t]=queue[t+index];queue.length-=index,index=0}}queue.length=0,index=0}var scope=typeof commonjsGlobal!="undefined"?commonjsGlobal:self,BrowserMutationObserver=scope.MutationObserver||scope.WebKitMutationObserver;typeof BrowserMutationObserver=="function"?requestFlush=makeRequestCallFromMutationObserver(flush):requestFlush=makeRequestCallFromTimer(flush),rawAsap$1.requestFlush=requestFlush;function makeRequestCallFromMutationObserver(e){var t=1,r=new BrowserMutationObserver(e),a=document.createTextNode("");return r.observe(a,{characterData:!0}),function(){t=-t,a.data=t}}function makeRequestCallFromTimer(e){return function(){var r=setTimeout(o,0),a=setInterval(o,50);function o(){clearTimeout(r),clearInterval(a),e()}}}rawAsap$1.makeRequestCallFromTimer=makeRequestCallFromTimer;var rawAsap=browserRaw,freeTasks=[],pendingErrors=[],requestErrorThrow=rawAsap.makeRequestCallFromTimer(throwFirstError);function throwFirstError(){if(pendingErrors.length)throw pendingErrors.shift()}var browserAsap=asap;function asap(e){var t;freeTasks.length?t=freeTasks.pop():t=new RawTask,t.task=e,rawAsap(t)}function RawTask(){this.task=null}RawTask.prototype.call=function(){try{this.task.call()}catch(e){asap.onerror?asap.onerror(e):(pendingErrors.push(e),requestErrorThrow())}finally{this.task=null,freeTasks[freeTasks.length]=this}};var getNextUniqueId$1={};Object.defineProperty(getNextUniqueId$1,"__esModule",{value:!0}),getNextUniqueId$1.default=getNextUniqueId;var nextUniqueId=0;function getNextUniqueId(){return nextUniqueId++}Object.defineProperty(HandlerRegistry$1,"__esModule",{value:!0});var _createClass$h=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_invariant$b=browser,_invariant2$b=_interopRequireDefault$p(_invariant$b),_isArray$2=isArray_1,_isArray2$2=_interopRequireDefault$p(_isArray$2),_asap=browserAsap,_asap2=_interopRequireDefault$p(_asap),_registry=registry,_getNextUniqueId=getNextUniqueId$1,_getNextUniqueId2=_interopRequireDefault$p(_getNextUniqueId);function _interopRequireDefault$p(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var HandlerRoles={SOURCE:"SOURCE",TARGET:"TARGET"};function validateSourceContract(e){(0,_invariant2$b.default)(typeof e.canDrag=="function","Expected canDrag to be a function."),(0,_invariant2$b.default)(typeof e.beginDrag=="function","Expected beginDrag to be a function."),(0,_invariant2$b.default)(typeof e.endDrag=="function","Expected endDrag to be a function.")}function validateTargetContract(e){(0,_invariant2$b.default)(typeof e.canDrop=="function","Expected canDrop to be a function."),(0,_invariant2$b.default)(typeof e.hover=="function","Expected hover to be a function."),(0,_invariant2$b.default)(typeof e.drop=="function","Expected beginDrag to be a function.")}function validateType(e,t){if(t&&(0,_isArray2$2.default)(e)){e.forEach(function(r){return validateType(r,!1)});return}(0,_invariant2$b.default)(typeof e=="string"||(typeof e=="undefined"?"undefined":_typeof$5(e))==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function getNextHandlerId(e){var t=(0,_getNextUniqueId2.default)().toString();switch(e){case HandlerRoles.SOURCE:return"S"+t;case HandlerRoles.TARGET:return"T"+t;default:(0,_invariant2$b.default)(!1,"Unknown role: "+e)}}function parseRoleFromHandlerId(e){switch(e[0]){case"S":return HandlerRoles.SOURCE;case"T":return HandlerRoles.TARGET;default:(0,_invariant2$b.default)(!1,"Cannot parse handler ID: "+e)}}var HandlerRegistry=function(){function e(t){_classCallCheck$h(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return _createClass$h(e,[{key:"addSource",value:function(r,a){validateType(r),validateSourceContract(a);var o=this.addHandler(HandlerRoles.SOURCE,r,a);return this.store.dispatch((0,_registry.addSource)(o)),o}},{key:"addTarget",value:function(r,a){validateType(r,!0),validateTargetContract(a);var o=this.addHandler(HandlerRoles.TARGET,r,a);return this.store.dispatch((0,_registry.addTarget)(o)),o}},{key:"addHandler",value:function(r,a,o){var s=getNextHandlerId(r);return this.types[s]=a,this.handlers[s]=o,s}},{key:"containsHandler",value:function(r){var a=this;return Object.keys(this.handlers).some(function(o){return a.handlers[o]===r})}},{key:"getSource",value:function(r,a){(0,_invariant2$b.default)(this.isSourceId(r),"Expected a valid source ID.");var o=a&&r===this.pinnedSourceId,s=o?this.pinnedSource:this.handlers[r];return s}},{key:"getTarget",value:function(r){return(0,_invariant2$b.default)(this.isTargetId(r),"Expected a valid target ID."),this.handlers[r]}},{key:"getSourceType",value:function(r){return(0,_invariant2$b.default)(this.isSourceId(r),"Expected a valid source ID."),this.types[r]}},{key:"getTargetType",value:function(r){return(0,_invariant2$b.default)(this.isTargetId(r),"Expected a valid target ID."),this.types[r]}},{key:"isSourceId",value:function(r){var a=parseRoleFromHandlerId(r);return a===HandlerRoles.SOURCE}},{key:"isTargetId",value:function(r){var a=parseRoleFromHandlerId(r);return a===HandlerRoles.TARGET}},{key:"removeSource",value:function(r){var a=this;(0,_invariant2$b.default)(this.getSource(r),"Expected an existing source."),this.store.dispatch((0,_registry.removeSource)(r)),(0,_asap2.default)(function(){delete a.handlers[r],delete a.types[r]})}},{key:"removeTarget",value:function(r){var a=this;(0,_invariant2$b.default)(this.getTarget(r),"Expected an existing target."),this.store.dispatch((0,_registry.removeTarget)(r)),(0,_asap2.default)(function(){delete a.handlers[r],delete a.types[r]})}},{key:"pinSource",value:function(r){var a=this.getSource(r);(0,_invariant2$b.default)(a,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=a}},{key:"unpinSource",value:function(){(0,_invariant2$b.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();HandlerRegistry$1.default=HandlerRegistry,Object.defineProperty(DragDropMonitor$1,"__esModule",{value:!0});var _createClass$g=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_invariant$a=browser,_invariant2$a=_interopRequireDefault$o(_invariant$a),_isArray$1=isArray_1,_isArray2$1=_interopRequireDefault$o(_isArray$1),_matchesType=matchesType$1,_matchesType2=_interopRequireDefault$o(_matchesType),_HandlerRegistry=HandlerRegistry$1,_HandlerRegistry2=_interopRequireDefault$o(_HandlerRegistry),_dragOffset=dragOffset$1,_dirtyHandlerIds=dirtyHandlerIds$1;function _interopRequireDefault$o(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DragDropMonitor=function(){function e(t){_classCallCheck$g(this,e),this.store=t,this.registry=new _HandlerRegistry2.default(t)}return _createClass$g(e,[{key:"subscribeToStateChange",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.handlerIds;(0,_invariant2$a.default)(typeof r=="function","listener must be a function."),(0,_invariant2$a.default)(typeof s=="undefined"||(0,_isArray2$1.default)(s),"handlerIds, when specified, must be an array of strings.");var l=this.store.getState().stateId,u=function(){var d=a.store.getState(),v=d.stateId;try{var _=v===l||v===l+1&&!(0,_dirtyHandlerIds.areDirty)(d.dirtyHandlerIds,s);_||r()}finally{l=v}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(r){var a=this;(0,_invariant2$a.default)(typeof r=="function","listener must be a function.");var o=this.store.getState().dragOffset,s=function(){var u=a.store.getState().dragOffset;u!==o&&(o=u,r())};return this.store.subscribe(s)}},{key:"canDragSource",value:function(r){var a=this.registry.getSource(r);return(0,_invariant2$a.default)(a,"Expected to find a valid source."),this.isDragging()?!1:a.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){var a=this.registry.getTarget(r);if((0,_invariant2$a.default)(a,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var o=this.registry.getTargetType(r),s=this.getItemType();return(0,_matchesType2.default)(o,s)&&a.canDrop(this,r)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(r){var a=this.registry.getSource(r,!0);if((0,_invariant2$a.default)(a,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var o=this.registry.getSourceType(r),s=this.getItemType();return o!==s?!1:a.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1},o=a.shallow;if(!this.isDragging())return!1;var s=this.registry.getTargetType(r),l=this.getItemType();if(!(0,_matchesType2.default)(s,l))return!1;var u=this.getTargetIds();if(!u.length)return!1;var c=u.indexOf(r);return o?c===u.length-1:c>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,_dragOffset.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,_dragOffset.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();DragDropMonitor$1.default=DragDropMonitor,Object.defineProperty(DragDropManager$1,"__esModule",{value:!0});var _createClass$f=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_createStore=createStore,_createStore2=_interopRequireDefault$n(_createStore),_reducers=reducers,_reducers2=_interopRequireDefault$n(_reducers),_dragDrop=dragDrop,dragDropActions=_interopRequireWildcard$3(_dragDrop),_DragDropMonitor=DragDropMonitor$1,_DragDropMonitor2=_interopRequireDefault$n(_DragDropMonitor);function _interopRequireWildcard$3(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault$n(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DragDropManager=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$f(this,e);var a=(0,_createStore2.default)(_reducers2.default);this.context=r,this.store=a,this.monitor=new _DragDropMonitor2.default(a),this.registry=this.monitor.registry,this.backend=t(this),a.subscribe(this.handleRefCountChange.bind(this))}return _createClass$f(e,[{key:"handleRefCountChange",value:function(){var r=this.store.getState().refCount>0;r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var r=this,a=this.store.dispatch;function o(s){return function(){for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=s.apply(r,u);typeof d!="undefined"&&a(d)}}return Object.keys(dragDropActions).filter(function(s){return typeof dragDropActions[s]=="function"}).reduce(function(s,l){var u=dragDropActions[l];return s[l]=o(u),s},{})}}]),e}();DragDropManager$1.default=DragDropManager;var DragSource$3={};Object.defineProperty(DragSource$3,"__esModule",{value:!0});var _createClass$e=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function _classCallCheck$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DragSource$2=function(){function e(){_classCallCheck$e(this,e)}return _createClass$e(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(r,a){return a===r.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();DragSource$3.default=DragSource$2;var DropTarget$3={};Object.defineProperty(DropTarget$3,"__esModule",{value:!0});var _createClass$d=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function _classCallCheck$d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DropTarget$2=function(){function e(){_classCallCheck$d(this,e)}return _createClass$d(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();DropTarget$3.default=DropTarget$2;var createTestBackend={};Object.defineProperty(createTestBackend,"__esModule",{value:!0});var _createClass$c=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();createTestBackend.default=createBackend;var _noop=noop_1,_noop2=_interopRequireDefault$m(_noop);function _interopRequireDefault$m(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var TestBackend=function(){function e(t){_classCallCheck$c(this,e),this.actions=t.getActions()}return _createClass$c(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return _noop2.default}},{key:"connectDragPreview",value:function(){return _noop2.default}},{key:"connectDropTarget",value:function(){return _noop2.default}},{key:"simulateBeginDrag",value:function(r,a){this.actions.beginDrag(r,a)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(r,a){this.actions.hover(r,a)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}();function createBackend(e){return new TestBackend(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=DragDropManager$1;Object.defineProperty(e,"DragDropManager",{enumerable:!0,get:function(){return s(t).default}});var r=DragSource$3;Object.defineProperty(e,"DragSource",{enumerable:!0,get:function(){return s(r).default}});var a=DropTarget$3;Object.defineProperty(e,"DropTarget",{enumerable:!0,get:function(){return s(a).default}});var o=createTestBackend;Object.defineProperty(e,"createTestBackend",{enumerable:!0,get:function(){return s(o).default}});function s(l){return l&&l.__esModule?l:{default:l}}})(lib$1);var REACT_STATICS={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=getPrototypeOf&&getPrototypeOf(Object);function hoistNonReactStatics(e,t,r){if(typeof t!="string"){if(objectPrototype){var a=getPrototypeOf(t);a&&a!==objectPrototype&&hoistNonReactStatics(e,a,r)}var o=getOwnPropertyNames(t);getOwnPropertySymbols&&(o=o.concat(getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s){var l=o[s];if(!REACT_STATICS[l]&&!KNOWN_STATICS[l]&&(!r||!r[l])){var u=getOwnPropertyDescriptor(t,l);try{defineProperty(e,l,u)}catch{}}}return e}return e}var hoistNonReactStatics_cjs=hoistNonReactStatics,checkDecoratorArguments$1={};Object.defineProperty(checkDecoratorArguments$1,"__esModule",{value:!0}),checkDecoratorArguments$1.default=checkDecoratorArguments;function checkDecoratorArguments(e,t){}Object.defineProperty(DragDropContext$1,"__esModule",{value:!0}),DragDropContext$1.unpackBackendForEs5Users=DragDropContext$1.createChildContext=DragDropContext$1.CHILD_CONTEXT_TYPES=void 0;var _extends$2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_createClass$b=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};DragDropContext$1.default=DragDropContext;var _react$5=require$$0__default.default,_react2$2=_interopRequireDefault$l(_react$5),_propTypes$3=propTypes.exports,_propTypes2$3=_interopRequireDefault$l(_propTypes$3),_dndCore=lib$1,_invariant$9=browser,_invariant2$9=_interopRequireDefault$l(_invariant$9),_hoistNonReactStatics$2=hoistNonReactStatics_cjs,_hoistNonReactStatics2$2=_interopRequireDefault$l(_hoistNonReactStatics$2),_checkDecoratorArguments$3=checkDecoratorArguments$1,_checkDecoratorArguments2$3=_interopRequireDefault$l(_checkDecoratorArguments$3);function _interopRequireDefault$l(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits$3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CHILD_CONTEXT_TYPES=DragDropContext$1.CHILD_CONTEXT_TYPES={dragDropManager:_propTypes2$3.default.object.isRequired},createChildContext=DragDropContext$1.createChildContext=function(t,r){return{dragDropManager:new _dndCore.DragDropManager(t,r)}},unpackBackendForEs5Users=DragDropContext$1.unpackBackendForEs5Users=function(t){var r=t;return(typeof r=="undefined"?"undefined":_typeof$4(r))==="object"&&typeof r.default=="function"&&(r=r.default),(0,_invariant2$9.default)(typeof r=="function","Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),r};function DragDropContext(e){_checkDecoratorArguments2$3.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=unpackBackendForEs5Users(e),r=createChildContext(t);return function(o){var s,l,u=o.displayName||o.name||"Component",c=(l=s=function(d){_inherits$3(v,d);function v(){return _classCallCheck$b(this,v),_possibleConstructorReturn$3(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return _createClass$b(v,[{key:"getDecoratedComponentInstance",value:function(){return(0,_invariant2$9.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return r.dragDropManager}},{key:"getChildContext",value:function(){return r}},{key:"render",value:function(){var y=this;return _react2$2.default.createElement(o,_extends$2({},this.props,{ref:function($){y.child=$}}))}}]),v}(_react$5.Component),s.DecoratedComponent=o,s.displayName="DragDropContext("+u+")",s.childContextTypes=CHILD_CONTEXT_TYPES,l);return(0,_hoistNonReactStatics2$2.default)(c,o)}}var DragDropContextProvider$1={};Object.defineProperty(DragDropContextProvider$1,"__esModule",{value:!0}),DragDropContextProvider$1.default=void 0;var _createClass$a=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_class,_temp,_react$4=require$$0__default.default,_propTypes$2=propTypes.exports,_propTypes2$2=_interopRequireDefault$k(_propTypes$2),_DragDropContext=DragDropContext$1;function _interopRequireDefault$k(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits$2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DragDropContextProvider=(_temp=_class=function(e){_inherits$2(t,e);function t(r,a){_classCallCheck$a(this,t);var o=_possibleConstructorReturn$2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,a)),s=function(){if(r&&r.window)return r.window;if(a&&a.window)return a.window;if(typeof window!="undefined")return window};return o.backend=(0,_DragDropContext.unpackBackendForEs5Users)(r.backend),o.childContext=(0,_DragDropContext.createChildContext)(o.backend,{window:s()}),o}return _createClass$a(t,[{key:"componentWillReceiveProps",value:function(a){if(a.backend!==this.props.backend||a.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return _react$4.Children.only(this.props.children)}}]),t}(_react$4.Component),_class.propTypes={backend:_propTypes2$2.default.oneOfType([_propTypes2$2.default.func,_propTypes2$2.default.object]).isRequired,children:_propTypes2$2.default.element.isRequired,window:_propTypes2$2.default.object},_class.defaultProps={window:void 0},_class.childContextTypes=_DragDropContext.CHILD_CONTEXT_TYPES,_class.displayName="DragDropContextProvider",_class.contextTypes={window:_propTypes2$2.default.object},_temp);DragDropContextProvider$1.default=DragDropContextProvider;var DragLayer$1={},shallowEqual$3={};Object.defineProperty(shallowEqual$3,"__esModule",{value:!0}),shallowEqual$3.default=shallowEqual$2;function shallowEqual$2(e,t){if(e===t)return!0;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty,s=0;s<r.length;s+=1){if(!o.call(t,r[s])||e[r[s]]!==t[r[s]])return!1;var l=e[r[s]],u=t[r[s]];if(l!==u)return!1}return!0}var shallowEqualScalar$1={};Object.defineProperty(shallowEqualScalar$1,"__esModule",{value:!0});var _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};shallowEqualScalar$1.default=shallowEqualScalar;function shallowEqualScalar(e,t){if(e===t)return!0;if((typeof e=="undefined"?"undefined":_typeof$3(e))!=="object"||e===null||(typeof t=="undefined"?"undefined":_typeof$3(t))!=="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty,s=0;s<r.length;s+=1){if(!o.call(t,r[s]))return!1;var l=e[r[s]],u=t[r[s]];if(l!==u||(typeof l=="undefined"?"undefined":_typeof$3(l))==="object"||(typeof u=="undefined"?"undefined":_typeof$3(u))==="object")return!1}return!0}Object.defineProperty(DragLayer$1,"__esModule",{value:!0});var _extends$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass$9=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();DragLayer$1.default=DragLayer;var _react$3=require$$0__default.default,_react2$1=_interopRequireDefault$j(_react$3),_propTypes$1=propTypes.exports,_propTypes2$1=_interopRequireDefault$j(_propTypes$1),_hoistNonReactStatics$1=hoistNonReactStatics_cjs,_hoistNonReactStatics2$1=_interopRequireDefault$j(_hoistNonReactStatics$1),_isPlainObject$5=isPlainObject_1,_isPlainObject2$2=_interopRequireDefault$j(_isPlainObject$5),_invariant$8=browser,_invariant2$8=_interopRequireDefault$j(_invariant$8),_shallowEqual$3=shallowEqual$3,_shallowEqual2$3=_interopRequireDefault$j(_shallowEqual$3),_shallowEqualScalar$1=shallowEqualScalar$1,_shallowEqualScalar2$1=_interopRequireDefault$j(_shallowEqualScalar$1),_checkDecoratorArguments$2=checkDecoratorArguments$1,_checkDecoratorArguments2$2=_interopRequireDefault$j(_checkDecoratorArguments$2);function _interopRequireDefault$j(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits$1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function DragLayer(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _checkDecoratorArguments2$2.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,_invariant2$8.default)(typeof e=="function",'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,_invariant2$8.default)((0,_isPlainObject2$2.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(a){var o,s,l=t.arePropsEqual,u=l===void 0?_shallowEqualScalar2$1.default:l,c=a.displayName||a.name||"Component",d=(s=o=function(v){_inherits$1(_,v),_createClass$9(_,[{key:"getDecoratedComponentInstance",value:function(){return(0,_invariant2$8.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(D,$){return!u(D,this.props)||!(0,_shallowEqual2$3.default)($,this.state)}}]);function _(y,D){_classCallCheck$9(this,_);var $=_possibleConstructorReturn$1(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y));return $.handleChange=$.handleChange.bind($),$.manager=D.dragDropManager,(0,_invariant2$8.default)(_typeof$2($.manager)==="object","Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",c,c),$.state=$.getCurrentState(),$}return _createClass$9(_,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var D=this.manager.getMonitor();this.unsubscribeFromOffsetChange=D.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=D.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(!!this.isCurrentlyMounted){var D=this.getCurrentState();(0,_shallowEqual2$3.default)(D,this.state)||this.setState(D)}}},{key:"getCurrentState",value:function(){var D=this.manager.getMonitor();return e(D,this.props)}},{key:"render",value:function(){var D=this;return _react2$1.default.createElement(a,_extends$1({},this.props,this.state,{ref:function(b){D.child=b}}))}}]),_}(_react$3.Component),o.DecoratedComponent=a,o.displayName="DragLayer("+c+")",o.contextTypes={dragDropManager:_propTypes2$1.default.object.isRequired},s);return(0,_hoistNonReactStatics2$1.default)(d,a)}}var DragSource$1={},decorateHandler$1={},modules={},isDisposable={exports:{}};(function(e,t){t.__esModule=!0,t.default=r;function r(a){return Boolean(a&&typeof a.dispose=="function")}e.exports=t.default})(isDisposable,isDisposable.exports);var Disposable={exports:{}};(function(e,t){t.__esModule=!0;var r=function(){function l(u,c){for(var d=0;d<c.length;d++){var v=c[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(u,v.key,v)}}return function(u,c,d){return c&&l(u.prototype,c),d&&l(u,d),u}}();function a(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){},s=function(){r(l,null,[{key:"empty",value:{dispose:o},enumerable:!0}]);function l(u){a(this,l),this.isDisposed=!1,this.action=u||o}return l.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},l}();t.default=s,e.exports=t.default})(Disposable,Disposable.exports);var CompositeDisposable={exports:{}};(function(e,t){t.__esModule=!0;function r(u){return u&&u.__esModule?u:{default:u}}function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=isDisposable.exports,s=r(o),l=function(){function u(){for(var c=arguments.length,d=Array(c),v=0;v<c;v++)d[v]=arguments[v];a(this,u),Array.isArray(d[0])&&d.length===1&&(d=d[0]);for(var _=0;_<d.length;_++)if(!s.default(d[_]))throw new Error("Expected a disposable");this.disposables=d,this.isDisposed=!1}return u.prototype.add=function(d){this.isDisposed?d.dispose():this.disposables.push(d)},u.prototype.remove=function(d){if(this.isDisposed)return!1;var v=this.disposables.indexOf(d);return v===-1?!1:(this.disposables.splice(v,1),d.dispose(),!0)},u.prototype.dispose=function(){if(!this.isDisposed){for(var d=this.disposables.length,v=new Array(d),_=0;_<d;_++)v[_]=this.disposables[_];this.isDisposed=!0,this.disposables=[],this.length=0;for(var _=0;_<d;_++)v[_].dispose()}},u}();t.default=l,e.exports=t.default})(CompositeDisposable,CompositeDisposable.exports);var SerialDisposable={exports:{}};(function(e,t){t.__esModule=!0;function r(u){return u&&u.__esModule?u:{default:u}}function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var o=isDisposable.exports,s=r(o),l=function(){function u(){a(this,u),this.isDisposed=!1,this.current=null}return u.prototype.getDisposable=function(){return this.current},u.prototype.setDisposable=function(){var d=arguments.length<=0||arguments[0]===void 0?null:arguments[0];if(d!=null&&!s.default(d))throw new Error("Expected either an empty value or a valid disposable");var v=this.isDisposed,_=void 0;v||(_=this.current,this.current=d),_&&_.dispose(),v&&d&&d.dispose()},u.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var d=this.current;this.current=null,d&&d.dispose()}},u}();t.default=l,e.exports=t.default})(SerialDisposable,SerialDisposable.exports),modules.__esModule=!0;function _interopRequireDefault$i(e){return e&&e.__esModule?e:{default:e}}var _isDisposable2=isDisposable.exports,_isDisposable3=_interopRequireDefault$i(_isDisposable2);modules.isDisposable=_isDisposable3.default;var _Disposable2=Disposable.exports,_Disposable3=_interopRequireDefault$i(_Disposable2);modules.Disposable=_Disposable3.default;var _CompositeDisposable2=CompositeDisposable.exports,_CompositeDisposable3=_interopRequireDefault$i(_CompositeDisposable2);modules.CompositeDisposable=_CompositeDisposable3.default;var _SerialDisposable2=SerialDisposable.exports,_SerialDisposable3=_interopRequireDefault$i(_SerialDisposable2);modules.SerialDisposable=_SerialDisposable3.default,Object.defineProperty(decorateHandler$1,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass$8=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();decorateHandler$1.default=decorateHandler;var _react$2=require$$0__default.default,_react2=_interopRequireDefault$h(_react$2),_propTypes=propTypes.exports,_propTypes2=_interopRequireDefault$h(_propTypes),_disposables=modules,_isPlainObject$4=isPlainObject_1;_interopRequireDefault$h(_isPlainObject$4);var _invariant$7=browser,_invariant2$7=_interopRequireDefault$h(_invariant$7),_hoistNonReactStatics=hoistNonReactStatics_cjs,_hoistNonReactStatics2=_interopRequireDefault$h(_hoistNonReactStatics),_shallowEqual$2=shallowEqual$3,_shallowEqual2$2=_interopRequireDefault$h(_shallowEqual$2),_shallowEqualScalar=shallowEqualScalar$1,_shallowEqualScalar2=_interopRequireDefault$h(_shallowEqualScalar);function _interopRequireDefault$h(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _inherits(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var isClassComponent=function(t){return Boolean(t&&t.prototype&&typeof t.prototype.render=="function")};function decorateHandler(e){var t,r,a=e.DecoratedComponent,o=e.createHandler,s=e.createMonitor,l=e.createConnector,u=e.registerHandler,c=e.containerDisplayName,d=e.getType,v=e.collect,_=e.options,y=_.arePropsEqual,D=y===void 0?_shallowEqualScalar2.default:y,$=a.displayName||a.name||"Component",b=(r=t=function(S){_inherits(E,S),_createClass$8(E,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(C,T){return!D(C,this.props)||!(0,_shallowEqual2$2.default)(T,this.state)}}]);function E(O,C){_classCallCheck$8(this,E);var T=_possibleConstructorReturn(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,C));return T.handleChange=T.handleChange.bind(T),T.handleChildRef=T.handleChildRef.bind(T),(0,_invariant2$7.default)(_typeof$1(T.context.dragDropManager)==="object","Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",$,$),T.manager=T.context.dragDropManager,T.handlerMonitor=s(T.manager),T.handlerConnector=l(T.manager.getBackend()),T.handler=o(T.handlerMonitor),T.disposable=new _disposables.SerialDisposable,T.receiveProps(O),T.state=T.getCurrentState(),T.dispose(),T}return _createClass$8(E,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new _disposables.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(C){D(C,this.props)||(this.receiveProps(C),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(C){this.handler.receiveProps(C),this.receiveType(d(C))}},{key:"receiveType",value:function(C){if(C!==this.currentType){this.currentType=C;var T=u(C,this.handler,this.manager),R=T.handlerId,P=T.unregister;this.handlerId=R,this.handlerMonitor.receiveHandlerId(R),this.handlerConnector.receiveHandlerId(R);var w=this.manager.getMonitor(),I=w.subscribeToStateChange(this.handleChange,{handlerIds:[R]});this.disposable.setDisposable(new _disposables.CompositeDisposable(new _disposables.Disposable(I),new _disposables.Disposable(P)))}}},{key:"handleChange",value:function(){if(!!this.isCurrentlyMounted){var C=this.getCurrentState();(0,_shallowEqual2$2.default)(C,this.state)||this.setState(C)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(C){this.decoratedComponentInstance=C,this.handler.receiveComponent(C)}},{key:"getCurrentState",value:function(){var C=v(this.handlerConnector.hooks,this.handlerMonitor);return C}},{key:"render",value:function(){return _react2.default.createElement(a,_extends({},this.props,this.state,{ref:isClassComponent(a)?this.handleChildRef:null}))}}]),E}(_react$2.Component),t.DecoratedComponent=a,t.displayName=c+"("+$+")",t.contextTypes={dragDropManager:_propTypes2.default.object.isRequired},r);return(0,_hoistNonReactStatics2.default)(b,a)}var registerSource$1={};Object.defineProperty(registerSource$1,"__esModule",{value:!0}),registerSource$1.default=registerSource;function registerSource(e,t,r){var a=r.getRegistry(),o=a.addSource(e,t);function s(){a.removeSource(o)}return{handlerId:o,unregister:s}}var createSourceFactory$1={};Object.defineProperty(createSourceFactory$1,"__esModule",{value:!0});var _createClass$7=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();createSourceFactory$1.default=createSourceFactory;var _invariant$6=browser,_invariant2$6=_interopRequireDefault$g(_invariant$6),_isPlainObject$3=isPlainObject_1;_interopRequireDefault$g(_isPlainObject$3);function _interopRequireDefault$g(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ALLOWED_SPEC_METHODS$1=["canDrag","beginDrag","isDragging","endDrag"],REQUIRED_SPEC_METHODS=["beginDrag"];function createSourceFactory(e){Object.keys(e).forEach(function(r){(0,_invariant2$6.default)(ALLOWED_SPEC_METHODS$1.indexOf(r)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',ALLOWED_SPEC_METHODS$1.join(", "),r),(0,_invariant2$6.default)(typeof e[r]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",r,r,e[r])}),REQUIRED_SPEC_METHODS.forEach(function(r){(0,_invariant2$6.default)(typeof e[r]=="function","Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",r,r,e[r])});var t=function(){function r(a){_classCallCheck$7(this,r),this.monitor=a,this.props=null,this.component=null}return _createClass$7(r,[{key:"receiveProps",value:function(o){this.props=o}},{key:"receiveComponent",value:function(o){this.component=o}},{key:"canDrag",value:function(){return e.canDrag?e.canDrag(this.props,this.monitor):!0}},{key:"isDragging",value:function(o,s){return e.isDragging?e.isDragging(this.props,this.monitor):s===o.getSourceId()}},{key:"beginDrag",value:function(){var o=e.beginDrag(this.props,this.monitor,this.component);return o}},{key:"endDrag",value:function(){!e.endDrag||e.endDrag(this.props,this.monitor,this.component)}}]),r}();return function(a){return new t(a)}}var createSourceMonitor$1={};Object.defineProperty(createSourceMonitor$1,"__esModule",{value:!0});var _createClass$6=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();createSourceMonitor$1.default=createSourceMonitor;var _invariant$5=browser,_invariant2$5=_interopRequireDefault$f(_invariant$5);function _interopRequireDefault$f(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var isCallingCanDrag=!1,isCallingIsDragging=!1,SourceMonitor=function(){function e(t){_classCallCheck$6(this,e),this.internalMonitor=t.getMonitor()}return _createClass$6(e,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"canDrag",value:function(){(0,_invariant2$5.default)(!isCallingCanDrag,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return isCallingCanDrag=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{isCallingCanDrag=!1}}},{key:"isDragging",value:function(){(0,_invariant2$5.default)(!isCallingIsDragging,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return isCallingIsDragging=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{isCallingIsDragging=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function createSourceMonitor(e){return new SourceMonitor(e)}var createSourceConnector$1={},wrapConnectorHooks$1={},cloneWithRef$1={};Object.defineProperty(cloneWithRef$1,"__esModule",{value:!0}),cloneWithRef$1.default=cloneWithRef;var _invariant$4=browser,_invariant2$4=_interopRequireDefault$e(_invariant$4),_react$1=require$$0__default.default;function _interopRequireDefault$e(e){return e&&e.__esModule?e:{default:e}}function cloneWithRef(e,t){var r=e.ref;return(0,_invariant2$4.default)(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r?(0,_react$1.cloneElement)(e,{ref:function(o){t(o),r&&r(o)}}):(0,_react$1.cloneElement)(e,{ref:t})}Object.defineProperty(wrapConnectorHooks$1,"__esModule",{value:!0}),wrapConnectorHooks$1.default=wrapConnectorHooks;var _react=require$$0__default.default,_cloneWithRef=cloneWithRef$1,_cloneWithRef2=_interopRequireDefault$d(_cloneWithRef);function _interopRequireDefault$d(e){return e&&e.__esModule?e:{default:e}}function throwIfCompositeComponentElement(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+("You can either wrap "+t+" into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function wrapHookToRecognizeElement(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!(0,_react.isValidElement)(t)){var a=t;e(a,r);return}var o=t;throwIfCompositeComponentElement(o);var s=r?function(l){return e(l,r)}:e;return(0,_cloneWithRef2.default)(o,s)}}function wrapConnectorHooks(e){var t={};return Object.keys(e).forEach(function(r){var a=e[r],o=wrapHookToRecognizeElement(a);t[r]=function(){return o}}),t}var areOptionsEqual$1={};Object.defineProperty(areOptionsEqual$1,"__esModule",{value:!0}),areOptionsEqual$1.default=areOptionsEqual;var _shallowEqual$1=shallowEqual$3,_shallowEqual2$1=_interopRequireDefault$c(_shallowEqual$1);function _interopRequireDefault$c(e){return e&&e.__esModule?e:{default:e}}function areOptionsEqual(e,t){return t===e?!0:t!==null&&e!==null&&(0,_shallowEqual2$1.default)(t,e)}Object.defineProperty(createSourceConnector$1,"__esModule",{value:!0}),createSourceConnector$1.default=createSourceConnector;var _wrapConnectorHooks$1=wrapConnectorHooks$1,_wrapConnectorHooks2$1=_interopRequireDefault$b(_wrapConnectorHooks$1),_areOptionsEqual$1=areOptionsEqual$1,_areOptionsEqual2$1=_interopRequireDefault$b(_areOptionsEqual$1);function _interopRequireDefault$b(e){return e&&e.__esModule?e:{default:e}}function createSourceConnector(e){var t=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0;function c(){o&&(o(),o=null),t&&r&&(o=e.connectDragSource(t,r,a))}function d(){u&&(u(),u=null),t&&s&&(u=e.connectDragPreview(t,s,l))}function v(y){y!==t&&(t=y,c(),d())}var _=(0,_wrapConnectorHooks2$1.default)({dragSource:function(D,$){D===r&&(0,_areOptionsEqual2$1.default)($,a)||(r=D,a=$,c())},dragPreview:function(D,$){D===s&&(0,_areOptionsEqual2$1.default)($,l)||(s=D,l=$,d())}});return{receiveHandlerId:v,hooks:_}}var isValidType$1={};Object.defineProperty(isValidType$1,"__esModule",{value:!0});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};isValidType$1.default=isValidType;var _isArray=isArray_1,_isArray2=_interopRequireDefault$a(_isArray);function _interopRequireDefault$a(e){return e&&e.__esModule?e:{default:e}}function isValidType(e,t){return typeof e=="string"||(typeof e=="undefined"?"undefined":_typeof(e))==="symbol"||t&&(0,_isArray2.default)(e)&&e.every(function(r){return isValidType(r,!1)})}Object.defineProperty(DragSource$1,"__esModule",{value:!0}),DragSource$1.default=DragSource;var _invariant$3=browser,_invariant2$3=_interopRequireDefault$9(_invariant$3),_isPlainObject$2=isPlainObject_1,_isPlainObject2$1=_interopRequireDefault$9(_isPlainObject$2),_checkDecoratorArguments$1=checkDecoratorArguments$1,_checkDecoratorArguments2$1=_interopRequireDefault$9(_checkDecoratorArguments$1),_decorateHandler$1=decorateHandler$1,_decorateHandler2$1=_interopRequireDefault$9(_decorateHandler$1),_registerSource=registerSource$1,_registerSource2=_interopRequireDefault$9(_registerSource),_createSourceFactory=createSourceFactory$1,_createSourceFactory2=_interopRequireDefault$9(_createSourceFactory),_createSourceMonitor=createSourceMonitor$1,_createSourceMonitor2=_interopRequireDefault$9(_createSourceMonitor),_createSourceConnector=createSourceConnector$1,_createSourceConnector2=_interopRequireDefault$9(_createSourceConnector),_isValidType$1=isValidType$1,_isValidType2$1=_interopRequireDefault$9(_isValidType$1);function _interopRequireDefault$9(e){return e&&e.__esModule?e:{default:e}}function DragSource(e,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};_checkDecoratorArguments2$1.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var o=e;typeof e!="function"&&((0,_invariant2$3.default)((0,_isValidType2$1.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),o=function(){return e}),(0,_invariant2$3.default)((0,_isPlainObject2$1.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var s=(0,_createSourceFactory2.default)(t);return(0,_invariant2$3.default)(typeof r=="function",'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',r),(0,_invariant2$3.default)((0,_isPlainObject2$1.default)(a),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',r),function(u){return(0,_decorateHandler2$1.default)({connectBackend:function(d,v){return d.connectDragSource(v)},containerDisplayName:"DragSource",createHandler:s,registerHandler:_registerSource2.default,createMonitor:_createSourceMonitor2.default,createConnector:_createSourceConnector2.default,DecoratedComponent:u,getType:o,collect:r,options:a})}}var DropTarget$1={},registerTarget$1={};Object.defineProperty(registerTarget$1,"__esModule",{value:!0}),registerTarget$1.default=registerTarget;function registerTarget(e,t,r){var a=r.getRegistry(),o=a.addTarget(e,t);function s(){a.removeTarget(o)}return{handlerId:o,unregister:s}}var createTargetFactory$1={};Object.defineProperty(createTargetFactory$1,"__esModule",{value:!0});var _createClass$5=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();createTargetFactory$1.default=createTargetFactory;var _invariant$2=browser,_invariant2$2=_interopRequireDefault$8(_invariant$2),_isPlainObject$1=isPlainObject_1;_interopRequireDefault$8(_isPlainObject$1);function _interopRequireDefault$8(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ALLOWED_SPEC_METHODS=["canDrop","hover","drop"];function createTargetFactory(e){Object.keys(e).forEach(function(r){(0,_invariant2$2.default)(ALLOWED_SPEC_METHODS.indexOf(r)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',ALLOWED_SPEC_METHODS.join(", "),r),(0,_invariant2$2.default)(typeof e[r]=="function","Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",r,r,e[r])});var t=function(){function r(a){_classCallCheck$5(this,r),this.monitor=a,this.props=null,this.component=null}return _createClass$5(r,[{key:"receiveProps",value:function(o){this.props=o}},{key:"receiveMonitor",value:function(o){this.monitor=o}},{key:"receiveComponent",value:function(o){this.component=o}},{key:"canDrop",value:function(){return e.canDrop?e.canDrop(this.props,this.monitor):!0}},{key:"hover",value:function(){!e.hover||e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(!!e.drop){var o=e.drop(this.props,this.monitor,this.component);return o}}}]),r}();return function(a){return new t(a)}}var createTargetMonitor$1={};Object.defineProperty(createTargetMonitor$1,"__esModule",{value:!0});var _createClass$4=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();createTargetMonitor$1.default=createTargetMonitor;var _invariant$1=browser,_invariant2$1=_interopRequireDefault$7(_invariant$1);function _interopRequireDefault$7(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var isCallingCanDrop=!1,TargetMonitor=function(){function e(t){_classCallCheck$4(this,e),this.internalMonitor=t.getMonitor()}return _createClass$4(e,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"canDrop",value:function(){(0,_invariant2$1.default)(!isCallingCanDrop,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return isCallingCanDrop=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{isCallingCanDrop=!1}}},{key:"isOver",value:function(r){return this.internalMonitor.isOverTarget(this.targetId,r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function createTargetMonitor(e){return new TargetMonitor(e)}var createTargetConnector$1={};Object.defineProperty(createTargetConnector$1,"__esModule",{value:!0}),createTargetConnector$1.default=createTargetConnector;var _wrapConnectorHooks=wrapConnectorHooks$1,_wrapConnectorHooks2=_interopRequireDefault$6(_wrapConnectorHooks),_areOptionsEqual=areOptionsEqual$1,_areOptionsEqual2=_interopRequireDefault$6(_areOptionsEqual);function _interopRequireDefault$6(e){return e&&e.__esModule?e:{default:e}}function createTargetConnector(e){var t=void 0,r=void 0,a=void 0,o=void 0;function s(){o&&(o(),o=null),t&&r&&(o=e.connectDropTarget(t,r,a))}function l(c){c!==t&&(t=c,s())}var u=(0,_wrapConnectorHooks2.default)({dropTarget:function(d,v){d===r&&(0,_areOptionsEqual2.default)(v,a)||(r=d,a=v,s())}});return{receiveHandlerId:l,hooks:u}}Object.defineProperty(DropTarget$1,"__esModule",{value:!0}),DropTarget$1.default=DropTarget;var _invariant=browser,_invariant2=_interopRequireDefault$5(_invariant),_isPlainObject=isPlainObject_1,_isPlainObject2=_interopRequireDefault$5(_isPlainObject),_checkDecoratorArguments=checkDecoratorArguments$1,_checkDecoratorArguments2=_interopRequireDefault$5(_checkDecoratorArguments),_decorateHandler=decorateHandler$1,_decorateHandler2=_interopRequireDefault$5(_decorateHandler),_registerTarget=registerTarget$1,_registerTarget2=_interopRequireDefault$5(_registerTarget),_createTargetFactory=createTargetFactory$1,_createTargetFactory2=_interopRequireDefault$5(_createTargetFactory),_createTargetMonitor=createTargetMonitor$1,_createTargetMonitor2=_interopRequireDefault$5(_createTargetMonitor),_createTargetConnector=createTargetConnector$1,_createTargetConnector2=_interopRequireDefault$5(_createTargetConnector),_isValidType=isValidType$1,_isValidType2=_interopRequireDefault$5(_isValidType);function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}function DropTarget(e,t,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};_checkDecoratorArguments2.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var o=e;typeof e!="function"&&((0,_invariant2.default)((0,_isValidType2.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),o=function(){return e}),(0,_invariant2.default)((0,_isPlainObject2.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var s=(0,_createTargetFactory2.default)(t);return(0,_invariant2.default)(typeof r=="function",'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',r),(0,_invariant2.default)((0,_isPlainObject2.default)(a),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',r),function(u){return(0,_decorateHandler2.default)({connectBackend:function(d,v){return d.connectDropTarget(v)},containerDisplayName:"DropTarget",createHandler:s,registerHandler:_registerTarget2.default,createMonitor:_createTargetMonitor2.default,createConnector:_createTargetConnector2.default,DecoratedComponent:u,getType:o,collect:r,options:a})}}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=DragDropContext$1;Object.defineProperty(e,"DragDropContext",{enumerable:!0,get:function(){return l(t).default}});var r=DragDropContextProvider$1;Object.defineProperty(e,"DragDropContextProvider",{enumerable:!0,get:function(){return l(r).default}});var a=DragLayer$1;Object.defineProperty(e,"DragLayer",{enumerable:!0,get:function(){return l(a).default}});var o=DragSource$1;Object.defineProperty(e,"DragSource",{enumerable:!0,get:function(){return l(o).default}});var s=DropTarget$1;Object.defineProperty(e,"DropTarget",{enumerable:!0,get:function(){return l(s).default}});function l(u){return u&&u.__esModule?u:{default:u}}})(lib$2);var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=require$$0__default.default,g=60103;if(reactJsxRuntime_production_min.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var h=Symbol.for;g=h("react.element"),reactJsxRuntime_production_min.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var a,o={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)n.call(t,a)&&!p.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)o[a]===void 0&&(o[a]=t[a]);return{$$typeof:g,type:e,key:s,ref:l,props:o,_owner:m.current}}reactJsxRuntime_production_min.jsx=q,reactJsxRuntime_production_min.jsxs=q,jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;class FormContainer extends require$$0__namespace.Component{getHtml(){return{__html:this.props.template.replace(/__prefix__/g,this.props.form.id.toString())}}render(){return jsx("div",{className:"condensed-inline-panel__form",dangerouslySetInnerHTML:this.getHtml()})}componentDidMount(){let formElement=ReactDOM__namespace.findDOMNode(this);for(let e in this.props.form.fields){let t=document.getElementById(`${this.props.prefix}-${e}`);if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)if(t instanceof HTMLInputElement&&t.type==="checkbox"){let r=t;r.checked=this.props.form.fields[e]}else t.value=this.props.form.fields[e]}if(this.props.form.errors)for(let e in this.props.form.errors){let t=document.getElementById(`${this.props.prefix}-${e}`);if(t===null)continue;let r=t.closest(".field");if(r===null)continue;r.classList.add("error");let a=r.getElementsByClassName("field-content")[0]||r,o=document.createElement("p");o.classList.add("error-message"),o.innerHTML=`<span>${this.props.form.errors[e].map(s=>s.message).join(" ")}</span>`,a.appendChild(o)}let scriptTags=formElement.getElementsByTagName("script");for(let i=0;i<scriptTags.length;i++){let scriptTag=scriptTags.item(i);eval(scriptTag.innerHTML)}let pageChoosers=formElement.getElementsByClassName("page-chooser");for(let e=0;e<pageChoosers.length;e++){let t=pageChoosers.item(e),r=t.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(r){let a=r[1];this.props.form.fields[a]&&(t.classList.remove("blank"),t.getElementsByClassName("title")[0].textContent=this.props.form.extra[a].title)}}let imageChoosers=formElement.getElementsByClassName("image-chooser");for(let e=0;e<imageChoosers.length;e++){let t=imageChoosers.item(e),r=t.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(r){let a=r[1];if(this.props.form.fields[a]){t.classList.remove("blank");let o=t.querySelector(".preview-image img");o instanceof HTMLImageElement&&(o.src=this.props.form.extra[a].preview_image.src,o.alt=this.props.form.extra[a].preview_image.alt,o.width=this.props.form.extra[a].preview_image.width,o.height=this.props.form.extra[a].preview_image.height)}}}let snippetChoosers=formElement.getElementsByClassName("snippet-chooser");for(let e=0;e<snippetChoosers.length;e++){let t=snippetChoosers.item(e),r=t.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(r){let a=r[1];this.props.form.fields[a]&&(t.classList.remove("blank"),t.getElementsByClassName("title")[0].textContent=this.props.form.extra[a].title)}}let documentChoosers=formElement.getElementsByClassName("document-chooser");for(let e=0;e<documentChoosers.length;e++){let t=documentChoosers.item(e),r=t.id.match(/id_[^-]*-\d+-([^-]*)-chooser/);if(r){let a=r[1];this.props.form.fields[a]&&(t.classList.remove("blank"),t.getElementsByClassName("title")[0].textContent=this.props.form.extra[a].title)}}}}class Card extends require$$0__namespace.Component{constructor(t){super(t);this.state={showDeleteConfirm:!1}}shouldRenderForm(t=this.props){return t.form.forceFormRender?!0:(t.form.isEditing||t.form.hasChanged||t.form.isDeleted)&&t.canEdit}onEditStart(t){return this.props.onEditStart(t)}onEditClose(t){let r={};for(let a in this.props.form.fields){let o=document.getElementById(`${this.props.formPrefix}-${a}`);(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&(r[a]=o.value)}return this.props.onEditClose(t,r)}onDelete(t){return this.setState({showDeleteConfirm:!0}),t.preventDefault(),!1}onDeleteCancel(t){return this.setState({showDeleteConfirm:!1}),t.preventDefault(),!1}onDeleteConfirm(t){return this.props.onDelete(t)}renderActions(){let t=[];return this.props.canEdit&&(this.props.form.isEditing?t.push(jsx("li",{onClick:this.onEditClose.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-close icon icon-edit"},"edit-close")):t.push(jsx("li",{onClick:this.onEditStart.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-edit icon icon-edit"},"edit-start"))),this.props.canDelete&&t.push(jsx("li",{onClick:this.onDelete.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete icon icon-bin"},"delete")),this.props.customiseActions&&this.props.customiseActions(this.props,t),this.props.canDelete&&this.state.showDeleteConfirm&&(t=[jsx("li",{className:"condensed-inline-panel__delete-confirm-message",children:"Are you sure that you want to delete this?"},"delete-confirm"),jsx("li",{onClick:this.onDeleteConfirm.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete-confirm icon icon-tick"},"delete"),jsx("li",{onClick:this.onDeleteCancel.bind(this),className:"condensed-inline-panel__action condensed-inline-panel__action-delete-confirm-cancel icon icon-cross"},"cancel")]),t}getClassNames(){let t=["condensed-inline-panel__card"];return this.props.form.errors&&Object.keys(this.props.form.errors).length>0&&t.push("condensed-inline-panel__card--errors"),this.props.form.isNew?t.push("condensed-inline-panel__card--new"):this.props.form.hasChanged&&t.push("condensed-inline-panel__card--changed"),this.props.form.isDeleted?t.push("condensed-inline-panel__card--deleted"):this.props.form.isEditing&&t.push("condensed-inline-panel__card--editing"),this.props.isDragging&&t.push("condensed-inline-panel__card--dragging"),t}render(){let t=jsx("div",{className:"condensed-inline-panel__form"});this.shouldRenderForm()&&(t=jsx(FormContainer,{form:this.props.form,template:this.props.template,prefix:this.props.formPrefix}));let r=jsxs("div",{className:"condensed-inline-panel__card-header",children:[jsx("ul",{className:"condensed-inline-panel__actions",children:this.renderActions()}),jsx("h2",{dangerouslySetInnerHTML:this.props.renderCardHeader(this.props.form)})]});return r=this.props.connectDragSource(r),jsxs("div",{className:this.getClassNames().join(" "),children:[r,t]})}}let dragSource={canDrag(e,t){return e.canOrder},beginDrag(e,t,r){return{formId:e.form.id}}};function dragSourceCollect(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}let DraggableCard=lib$2.DragSource(e=>e.dndKey,dragSource,dragSourceCollect)(Card);var lib={},HTML5Backend$1={},MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(e,t){var r=typeof e;return t=t==null?MAX_SAFE_INTEGER:t,!!t&&(r=="number"||r!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var _isIndex=isIndex$2,eq$1=eq_1,isArrayLike$1=isArrayLike_1,isIndex$1=_isIndex,isObject$1=isObject_1;function isIterateeCall$1(e,t,r){if(!isObject$1(r))return!1;var a=typeof t;return(a=="number"?isArrayLike$1(r)&&isIndex$1(t,r.length):a=="string"&&t in r)?eq$1(r[t],e):!1}var _isIterateeCall=isIterateeCall$1;function baseTimes$1(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var _baseTimes=baseTimes$1,isBuffer$1={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(e,t){var r=_root,a=stubFalse_1,o=t&&!t.nodeType&&t,s=o&&!0&&e&&!e.nodeType&&e,l=s&&s.exports===o,u=l?r.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||a;e.exports=d})(isBuffer$1,isBuffer$1.exports);var baseGetTag=_baseGetTag,isLength=isLength_1,isObjectLike=isObjectLike_1,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray$1(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}var _baseIsTypedArray=baseIsTypedArray$1,_nodeUtil={exports:{}};(function(e,t){var r=_freeGlobal,a=t&&!t.nodeType&&t,o=a&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===a,l=s&&r.process,u=function(){try{var c=o&&o.require&&o.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();e.exports=u})(_nodeUtil,_nodeUtil.exports);var baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtil.exports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$1,baseTimes=_baseTimes,isArguments=isArguments_1,isArray=isArray_1,isBuffer=isBuffer$1.exports,isIndex=_isIndex,isTypedArray=isTypedArray_1,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function arrayLikeKeys$1(e,t){var r=isArray(e),a=!r&&isArguments(e),o=!r&&!a&&isBuffer(e),s=!r&&!a&&!o&&isTypedArray(e),l=r||a||o||s,u=l?baseTimes(e.length,String):[],c=u.length;for(var d in e)(t||hasOwnProperty$2.call(e,d))&&!(l&&(d=="length"||o&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||isIndex(d,c)))&&u.push(d);return u}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$2=Object.prototype;function isPrototype$1(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||objectProto$2;return e===r}var _isPrototype=isPrototype$1;function nativeKeysIn$1(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var _nativeKeysIn=nativeKeysIn$1,isObject=isObject_1,isPrototype=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeysIn$1(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),r=[];for(var a in e)a=="constructor"&&(t||!hasOwnProperty$1.call(e,a))||r.push(a);return r}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$1(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var keysIn_1=keysIn$1,baseRest$1=_baseRest,eq=eq_1,isIterateeCall=_isIterateeCall,keysIn=keysIn_1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,defaults=baseRest$1(function(e,t){e=Object(e);var r=-1,a=t.length,o=a>2?t[2]:void 0;for(o&&isIterateeCall(t[0],t[1],o)&&(a=1);++r<a;)for(var s=t[r],l=keysIn(s),u=-1,c=l.length;++u<c;){var d=l[u],v=e[d];(v===void 0||eq(v,objectProto[d])&&!hasOwnProperty.call(e,d))&&(e[d]=s[d])}return e}),defaults_1=defaults,shallowEqual$1={};Object.defineProperty(shallowEqual$1,"__esModule",{value:!0}),shallowEqual$1.default=shallowEqual;function shallowEqual(e,t){if(e===t)return!0;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=Object.prototype.hasOwnProperty,s=0;s<r.length;s+=1){if(!o.call(t,r[s])||e[r[s]]!==t[r[s]])return!1;var l=e[r[s]],u=t[r[s]];if(l!==u)return!1}return!0}var EnterLeaveCounter$1={},baseFlatten=_baseFlatten,baseRest=_baseRest,baseUniq=_baseUniq,isArrayLikeObject=isArrayLikeObject_1,union=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),union_1=union;Object.defineProperty(EnterLeaveCounter$1,"__esModule",{value:!0});var _createClass$3=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_union=union_1,_union2=_interopRequireDefault$4(_union),_without=without_1,_without2=_interopRequireDefault$4(_without);function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var EnterLeaveCounter=function(){function e(){_classCallCheck$3(this,e),this.entered=[]}return _createClass$3(e,[{key:"enter",value:function(r){var a=this.entered.length,o=function(l){return document.documentElement.contains(l)&&(!l.contains||l.contains(r))};return this.entered=(0,_union2.default)(this.entered.filter(o),[r]),a===0&&this.entered.length>0}},{key:"leave",value:function(r){var a=this.entered.length;return this.entered=(0,_without2.default)(this.entered.filter(function(o){return document.documentElement.contains(o)}),r),a>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}();EnterLeaveCounter$1.default=EnterLeaveCounter;var BrowserDetector={},MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);var r=function(){var a=arguments,o=t?t.apply(this,a):a[0],s=r.cache;if(s.has(o))return s.get(o);var l=e.apply(this,a);return r.cache=s.set(o,l)||s,l};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var memoize_1=memoize;Object.defineProperty(BrowserDetector,"__esModule",{value:!0}),BrowserDetector.isSafari=BrowserDetector.isFirefox=void 0;var _memoize=memoize_1,_memoize2=_interopRequireDefault$3(_memoize);function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}BrowserDetector.isFirefox=(0,_memoize2.default)(function(){return/firefox/i.test(navigator.userAgent)}),BrowserDetector.isSafari=(0,_memoize2.default)(function(){return Boolean(window.safari)});var OffsetUtils={},MonotonicInterpolant$1={};Object.defineProperty(MonotonicInterpolant$1,"__esModule",{value:!0});var _createClass$2=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var MonotonicInterpolant=function(){function e(t,r){_classCallCheck$2(this,e);for(var a=t.length,o=[],s=0;s<a;s++)o.push(s);o.sort(function(I,k){return t[I]<t[k]?-1:1});for(var l=[],u=[],c=void 0,d=void 0,v=0;v<a-1;v++)c=t[v+1]-t[v],d=r[v+1]-r[v],l.push(c),u.push(d/c);for(var _=[u[0]],y=0;y<l.length-1;y++){var D=u[y],$=u[y+1];if(D*$<=0)_.push(0);else{c=l[y];var b=l[y+1],S=c+b;_.push(3*S/((S+b)/D+(S+c)/$))}}_.push(u[u.length-1]);for(var E=[],O=[],C=void 0,T=0;T<_.length-1;T++){C=u[T];var R=_[T],P=1/l[T],w=R+_[T+1]-C-C;E.push((C-R-w)*P),O.push(w*P*P)}this.xs=t,this.ys=r,this.c1s=_,this.c2s=E,this.c3s=O}return _createClass$2(e,[{key:"interpolate",value:function(r){var a=this.xs,o=this.ys,s=this.c1s,l=this.c2s,u=this.c3s,c=a.length-1;if(r===a[c])return o[c];for(var d=0,v=u.length-1,_=void 0;d<=v;){_=Math.floor(.5*(d+v));var y=a[_];if(y<r)d=_+1;else if(y>r)v=_-1;else return o[_]}c=Math.max(0,v);var D=r-a[c],$=D*D;return o[c]+s[c]*D+l[c]*$+u[c]*D*$}}]),e}();MonotonicInterpolant$1.default=MonotonicInterpolant,Object.defineProperty(OffsetUtils,"__esModule",{value:!0}),OffsetUtils.getNodeClientOffset=getNodeClientOffset,OffsetUtils.getEventClientOffset=getEventClientOffset,OffsetUtils.getDragPreviewOffset=getDragPreviewOffset;var _BrowserDetector$1=BrowserDetector,_MonotonicInterpolant=MonotonicInterpolant$1,_MonotonicInterpolant2=_interopRequireDefault$2(_MonotonicInterpolant);function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}var ELEMENT_NODE=1;function getNodeClientOffset(e){var t=e.nodeType===ELEMENT_NODE?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),a=r.top,o=r.left;return{x:o,y:a}}function getEventClientOffset(e){return{x:e.clientX,y:e.clientY}}function isImageNode(e){return e.nodeName==="IMG"&&((0,_BrowserDetector$1.isFirefox)()||!document.documentElement.contains(e))}function getDragPreviewSize(e,t,r,a){var o=e?t.width:r,s=e?t.height:a;return(0,_BrowserDetector$1.isSafari)()&&e&&(s/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:s}}function getDragPreviewOffset(e,t,r,a,o){var s=isImageNode(t),l=s?e:t,u=getNodeClientOffset(l),c={x:r.x-u.x,y:r.y-u.y},d=e.offsetWidth,v=e.offsetHeight,_=a.anchorX,y=a.anchorY,D=getDragPreviewSize(s,t,d,v),$=D.dragPreviewWidth,b=D.dragPreviewHeight,S=function(){var w=new _MonotonicInterpolant2.default([0,.5,1],[c.y,c.y/v*b,c.y+b-v]),I=w.interpolate(y);return(0,_BrowserDetector$1.isSafari)()&&s&&(I+=(window.devicePixelRatio-1)*b),I},E=function(){var w=new _MonotonicInterpolant2.default([0,.5,1],[c.x,c.x/d*$,c.x+$-d]);return w.interpolate(_)},O=o.offsetX,C=o.offsetY,T=O===0||O,R=C===0||C;return{x:T?O:E(),y:R?C:S()}}var NativeDragSources={},NativeTypes$3={};Object.defineProperty(NativeTypes$3,"__esModule",{value:!0}),NativeTypes$3.FILE="__NATIVE_FILE__",NativeTypes$3.URL="__NATIVE_URL__",NativeTypes$3.TEXT="__NATIVE_TEXT__",Object.defineProperty(NativeDragSources,"__esModule",{value:!0});var _createClass$1=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_nativeTypesConfig;NativeDragSources.createNativeDragSource=createNativeDragSource,NativeDragSources.matchNativeItemType=matchNativeItemType;var _NativeTypes$2=NativeTypes$3,NativeTypes$2=_interopRequireWildcard$2(_NativeTypes$2);function _interopRequireWildcard$2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _defineEnumerableProperties(e,t){for(var r in t){var a=t[r];a.configurable=a.enumerable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,r,a)}return e}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function getDataFromDataTransfer(e,t,r){var a=t.reduce(function(o,s){return o||e.getData(s)},null);return a!=null?a:r}var nativeTypesConfig=(_nativeTypesConfig={},_defineProperty(_nativeTypesConfig,NativeTypes$2.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function e(t){return Array.prototype.slice.call(t.files)}}),_defineProperty(_nativeTypesConfig,NativeTypes$2.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function e(t,r){return getDataFromDataTransfer(t,r,"").split(`
`)}}),_defineProperty(_nativeTypesConfig,NativeTypes$2.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function e(t,r){return getDataFromDataTransfer(t,r,"")}}),_nativeTypesConfig);function createNativeDragSource(e){var t=nativeTypesConfig[e],r=t.exposeProperty,a=t.matchesTypes,o=t.getData;return function(){function s(){var l,u;_classCallCheck$1(this,s),this.item=(l={},u={},u[r]=u[r]||{},u[r].get=function(){return console.warn(`Browser doesn't allow reading "`+r+'" until the drop event.'),null},_defineEnumerableProperties(l,u),l)}return _createClass$1(s,[{key:"mutateItemByReadingDataTransfer",value:function(u){delete this.item[r],this.item[r]=o(u,a)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(u,c){return c===u.getSourceId()}},{key:"endDrag",value:function(){}}]),s}()}function matchNativeItemType(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(nativeTypesConfig).filter(function(r){var a=nativeTypesConfig[r].matchesTypes;return a.some(function(o){return t.indexOf(o)>-1})})[0]||null}Object.defineProperty(HTML5Backend$1,"__esModule",{value:!0});var _createClass=function(){function e(t,r){for(var a=0;a<r.length;a++){var o=r[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_defaults=defaults_1,_defaults2=_interopRequireDefault$1(_defaults),_shallowEqual=shallowEqual$1,_shallowEqual2=_interopRequireDefault$1(_shallowEqual),_EnterLeaveCounter=EnterLeaveCounter$1,_EnterLeaveCounter2=_interopRequireDefault$1(_EnterLeaveCounter),_BrowserDetector=BrowserDetector,_OffsetUtils=OffsetUtils,_NativeDragSources=NativeDragSources,_NativeTypes$1=NativeTypes$3,NativeTypes$1=_interopRequireWildcard$1(_NativeTypes$1);function _interopRequireWildcard$1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var HTML5Backend=function(){function e(t){_classCallCheck(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new _EnterLeaveCounter2.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return _createClass(e,[{key:"setup",value:function(){if(this.window!==void 0){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){this.window!==void 0&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(r){!r.addEventListener||(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){!r.removeEventListener||(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(r,a,o){var s=this;return this.sourcePreviewNodeOptions[r]=o,this.sourcePreviewNodes[r]=a,function(){delete s.sourcePreviewNodes[r],delete s.sourcePreviewNodeOptions[r]}}},{key:"connectDragSource",value:function(r,a,o){var s=this;this.sourceNodes[r]=a,this.sourceNodeOptions[r]=o;var l=function(d){return s.handleDragStart(d,r)},u=function(d){return s.handleSelectStart(d,r)};return a.setAttribute("draggable",!0),a.addEventListener("dragstart",l),a.addEventListener("selectstart",u),function(){delete s.sourceNodes[r],delete s.sourceNodeOptions[r],a.removeEventListener("dragstart",l),a.removeEventListener("selectstart",u),a.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(r,a){var o=this,s=function(d){return o.handleDragEnter(d,r)},l=function(d){return o.handleDragOver(d,r)},u=function(d){return o.handleDrop(d,r)};return a.addEventListener("dragenter",s),a.addEventListener("dragover",l),a.addEventListener("drop",u),function(){a.removeEventListener("dragenter",s),a.removeEventListener("dragover",l),a.removeEventListener("drop",u)}}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),a=this.sourceNodeOptions[r];return(0,_defaults2.default)(a||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),a=this.sourcePreviewNodeOptions[r];return(0,_defaults2.default)(a||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(r){return(0,_OffsetUtils.getNodeClientOffset)(this.sourceNodes[r])}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(NativeTypes$1).some(function(a){return NativeTypes$1[a]===r})}},{key:"beginDragNativeItem",value:function(r){this.clearCurrentDragSourceNode();var a=(0,_NativeDragSources.createNativeDragSource)(r);this.currentNativeSource=new a,this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){!this.isDraggingNativeItem()||(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(r){return document.body.contains(r)||this.window?this.window.document.body.contains(r):!1}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var r=this.currentDragSourceNode;this.isNodeInDocument(r)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(r){var a=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r,this.currentDragSourceNodeOffset=(0,_OffsetUtils.getNodeClientOffset)(r),this.currentDragSourceNodeOffsetChanged=!1;var o=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){return a.mouseMoveTimeoutId=null,a.window.addEventListener("mousemove",a.endDragIfSourceWasRemovedFromDOM,!0)},o)}},{key:"clearCurrentDragSourceNode",value:function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0):!1}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var r=this.currentDragSourceNode;return r?this.currentDragSourceNodeOffsetChanged?!0:(this.currentDragSourceNodeOffsetChanged=!(0,_shallowEqual2.default)((0,_OffsetUtils.getNodeClientOffset)(r),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged):!1}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(r,a){this.dragStartSourceIds.unshift(a)}},{key:"handleTopDragStart",value:function(r){var a=this,o=this.dragStartSourceIds;this.dragStartSourceIds=null;var s=(0,_OffsetUtils.getEventClientOffset)(r);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(o,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});var l=r.dataTransfer,u=(0,_NativeDragSources.matchNativeItemType)(l);if(this.monitor.isDragging()){if(typeof l.setDragImage=="function"){var c=this.monitor.getSourceId(),d=this.sourceNodes[c],v=this.sourcePreviewNodes[c]||d,_=this.getCurrentSourcePreviewNodeOptions(),y=_.anchorX,D=_.anchorY,$=_.offsetX,b=_.offsetY,S={anchorX:y,anchorY:D},E={offsetX:$,offsetY:b},O=(0,_OffsetUtils.getDragPreviewOffset)(d,v,s,S,E);l.setDragImage(v,O.x,O.y)}try{l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(r.target);var C=this.getCurrentSourcePreviewNodeOptions(),T=C.captureDraggingState;T?this.actions.publishDragSource():setTimeout(function(){return a.actions.publishDragSource()})}else if(u)this.beginDragNativeItem(u);else{if(!l.types&&(!r.target.hasAttribute||!r.target.hasAttribute("draggable")))return;r.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(r){this.dragEnterTargetIds=[];var a=this.enterLeaveCounter.enter(r.target);if(!(!a||this.monitor.isDragging())){var o=r.dataTransfer,s=(0,_NativeDragSources.matchNativeItemType)(o);s&&this.beginDragNativeItem(s)}}},{key:"handleDragEnter",value:function(r,a){this.dragEnterTargetIds.unshift(a)}},{key:"handleTopDragEnter",value:function(r){var a=this,o=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],!!this.monitor.isDragging()){this.altKeyPressed=r.altKey,(0,_BrowserDetector.isFirefox)()||this.actions.hover(o,{clientOffset:(0,_OffsetUtils.getEventClientOffset)(r)});var s=o.some(function(l){return a.monitor.canDropOnTarget(l)});s&&(r.preventDefault(),r.dataTransfer.dropEffect=this.getCurrentDropEffect())}}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(r,a){this.dragOverTargetIds.unshift(a)}},{key:"handleTopDragOver",value:function(r){var a=this,o=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){r.preventDefault(),r.dataTransfer.dropEffect="none";return}this.altKeyPressed=r.altKey,this.actions.hover(o,{clientOffset:(0,_OffsetUtils.getEventClientOffset)(r)});var s=o.some(function(l){return a.monitor.canDropOnTarget(l)});s?(r.preventDefault(),r.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(r.preventDefault(),r.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(r.preventDefault(),r.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(r){this.isDraggingNativeItem()&&r.preventDefault();var a=this.enterLeaveCounter.leave(r.target);!a||this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(r){this.dropTargetIds=[],r.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(r.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(r,a){this.dropTargetIds.unshift(a)}},{key:"handleTopDrop",value:function(r){var a=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:(0,_OffsetUtils.getEventClientOffset)(r)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(r){var a=r.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(r.preventDefault(),a.dragDrop()))}},{key:"window",get:function(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}}]),e}();HTML5Backend$1.default=HTML5Backend;var getEmptyImage$1={};Object.defineProperty(getEmptyImage$1,"__esModule",{value:!0}),getEmptyImage$1.default=getEmptyImage;var emptyImage=void 0;function getEmptyImage(){return emptyImage||(emptyImage=new Image,emptyImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),emptyImage}Object.defineProperty(lib,"__esModule",{value:!0}),lib.getEmptyImage=lib.NativeTypes=void 0;var _default=lib.default=createHTML5Backend,_HTML5Backend=HTML5Backend$1,_HTML5Backend2=_interopRequireDefault(_HTML5Backend),_getEmptyImage=getEmptyImage$1,_getEmptyImage2=_interopRequireDefault(_getEmptyImage),_NativeTypes=NativeTypes$3,NativeTypes=_interopRequireWildcard(_NativeTypes);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}lib.NativeTypes=NativeTypes,lib.getEmptyImage=_getEmptyImage2.default;function createHTML5Backend(e){return new _HTML5Backend2.default(e)}class Gap extends require$$0__namespace.Component{drop(t){this.props.onDND&&this.props.onDND(t,this.props.position)}render(){let t=["condensed-inline-panel__gap"],r=null;if(this.props.isOver)t.push("condensed-inline-panel__gap--over"),r=jsx("div",{className:t.join(" "),children:jsx("div",{className:"condensed-inline-panel__gap-pseudoform"})});else{let a=o=>(this.props.onAdd(this.props.position),o.preventDefault(),!1);r=jsx("div",{className:t.join(" "),children:jsx("a",{className:"condensed-inline-panel__add-button icon icon-plus-inverse",href:"#",onClick:a})})}return r=this.props.connectDropTarget(r),r}}let dropTarget={drop(e,t,r){r.drop(t.getItem().formId)}};function dropTargetCollect(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.canDrop()&&t.isOver()}}let DroppableGap=lib$2.DropTarget(e=>e.dndKey,dropTarget,dropTargetCollect)(Gap);class CardSet extends require$$0__namespace.Component{initGaps(t,r,a){let o=1,s=[];s.push(jsx(DroppableGap,{position:o++,dndKey:this.props.dndKey||this.props.formsetPrefix,onDND:r,onAdd:a},"gap-"+o));for(let l=0;l<t.length;l++)s.push(t[l]),s.push(jsx(DroppableGap,{position:o++,dndKey:this.props.dndKey||this.props.formsetPrefix,onDND:r,onAdd:a},"gap-"+o));return s}render(){let t=[],r=this.props.forms.slice();this.props.sortCompareFunc&&r.sort(this.props.sortCompareFunc);for(let l in r){let u=r[l],c=_=>{let y=JSON.parse(JSON.stringify(u));return y.isEditing=!0,y.hasChanged=!0,this.props.store.dispatch({type:"SET_FORM",formId:y.id,data:y}),_.preventDefault(),!1},d=_=>{let y=JSON.parse(JSON.stringify(u));return y.isDeleted=!0,this.props.store.dispatch({type:"SET_FORM",formId:y.id,data:y}),_.preventDefault(),!1},v=(_,y)=>{let D=JSON.parse(JSON.stringify(u));return D.isEditing=!1,D.fields=y,this.props.store.dispatch({type:"SET_FORM",formId:D.id,data:D}),_.preventDefault(),!1};t.push(jsx(DraggableCard,{form:u,renderCardHeader:this.props.renderCardHeader,canEdit:this.props.canEdit,canDelete:this.props.canDelete,canOrder:this.props.canOrder,template:this.props.formTemplate,formPrefix:`${this.props.formsetPrefix}-${u.id.toString()}`,customiseActions:this.props.customiseCardActions,dndKey:this.props.dndKey||this.props.formsetPrefix,onEditStart:c,onEditClose:v,onDelete:d},u.id))}let a=this.props.onDND||((l,u)=>{this.props.store.dispatch({type:"MOVE_FORM",formId:l,position:u})}),o=l=>{let u=this.props.forms.length;this.props.store.dispatch({type:"ADD_FORM",data:{fields:this.props.emptyForm.fields,extra:{},errors:{},isNew:!0,hasChanged:!0,isEditing:!0,position:this.props.forms.length+1,id:u}}),this.props.store.dispatch({type:"MOVE_FORM",formId:u,position:l})};t=this.initGaps(t,a,o);let s=null;return this.props.canEdit&&(s=jsx("button",{className:"condensed-inline-panel__top-add-button button bicolor icon icon-plus",type:"button",onClick:u=>(o(1),u.preventDefault(),!1),children:this.props.panelLabel})),jsxs("div",{children:[s,t]})}}let DNDCardSet=lib$2.DragDropContext(_default)(CardSet);var condensedinlinepanel="";function renderCardHeaderDefault(e){return{__html:""}}function init(e,t={}){const r=t.canEdit||!0,a=t.canDelete||r,o=t.canOrder||!1,s=t.renderCardHeader||renderCardHeaderDefault,l=t.panelLabel||"Add";let u=document.getElementById(e);if(u===null){console.error(`CondensedInlinePanel.init(): Element with id '${e}' does not exist.`);return}let c=document.getElementById(e+"-TOTAL_FORMS"),d=u.getElementsByClassName("condensed-inline-panel__data")[0];u.getElementsByClassName("condensed-inline-panel__sort-order")[0];let v=u.getElementsByClassName("condensed-inline-panel__ui-container")[0],_=createStore$1(reducer),y=($,b)=>$.position>b.position?1:$.position<b.position?-1:0;if(_.subscribe(()=>{if(u===null)return;let $=_.getState()||emptyState();ReactDOM__namespace.render(jsx(DNDCardSet,{forms:$.forms,panelLabel:l,renderCardHeader:s,canEdit:r,canDelete:a,canOrder:o,store:_,emptyForm:$.emptyForm,formTemplate:u.dataset.formTemplate||"",formsetPrefix:e,sortCompareFunc:y}),v)}),o){let $=u.getElementsByClassName("condensed-inline-panel__sort-order")[0];_.subscribe(()=>{let b=_.getState()||emptyState(),S=[];for(let E=0;E<b.forms.length;E++)S.push(b.forms[E].position);$ instanceof HTMLInputElement&&($.value=JSON.stringify(S))})}let D=u.getElementsByClassName("condensed-inline-panel__delete")[0];_.subscribe(()=>{let $=_.getState()||emptyState(),b=[];for(let S=0;S<$.forms.length;S++)$.forms[S].isDeleted&&b.push($.forms[S].id);D instanceof HTMLInputElement&&(D.value=JSON.stringify(b))}),d instanceof HTMLInputElement&&_.dispatch({type:"SET_STATE",state:JSON.parse(d.value)}),_.subscribe(()=>{let $=_.getState()||emptyState();c instanceof HTMLInputElement&&(c.value=$.forms.length.toString())})}return exports.Card=DraggableCard,exports.CardSet=DNDCardSet,exports.init=init,exports.reducer=reducer,Object.defineProperty(exports,"__esModule",{value:!0}),exports[Symbol.toStringTag]="Module",exports}({},ReactDOM,React);
